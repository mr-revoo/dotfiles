<<<<<<< HEAD
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{37719:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(30758),i=n(74948),a=n(58184),s=n(35674),o=n(80047),c=n(86485),l=n(10131);const u="MUiWCNTfb6FcSwVPvQ1V",d="_eSrMs5LTUjW7l0vfuBg",m="UAk3bMhekwJTV_wIyfsT",v="X9w6LPfKsZHMCs38sVIQ",h="NXn5KjeUOjLGlAfS1Gao",f="N0wgFMDDvCiby4QB5kLJ",g="nloNe2BLRHjz9dxlwfLU",x="FyD0hF1e2PKzRxQ6sYDQ",j="GR08E4L_rOGljyQQX30R";var p=n(86070);const y=(0,r.memo)((function(e){var t=e.uri,n=e.title,r=e.imageUrl,y=e.date,b=e.subTitle,N=e.firstParty,S=e.onClick,_=y?(0,l.l4)(y):void 0;return(0,p.jsx)(o.N,{to:t,className:u,"data-testid":"concert-card",onClick:S,children:(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)(c.b,{children:(0,p.jsx)("div",{role:"img",className:j,style:{backgroundImage:"url(".concat(r,")")},children:!r&&(0,p.jsx)(i.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),_&&(0,p.jsxs)("time",{className:m,dateTime:y,children:[(0,p.jsx)(a.E,{as:"div",variant:"bodySmall",children:(0,l.tj)(_)}),(0,p.jsx)(a.E,{as:"div",variant:"bodyMediumBold",children:(0,l.Py)(_)})]}),(0,p.jsxs)("div",{className:v,dir:"auto",children:[(0,p.jsx)(a.E,{as:"h2",variant:"bodyMedium",className:h,children:n}),(0,p.jsxs)("div",{className:f,children:[N&&(0,p.jsx)("span",{className:x,children:(0,p.jsx)(s.D,{size:"small"})}),(0,p.jsx)(a.E,{as:"span",className:g,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:b})]})]})]})})}))},66410:(e,t,n)=>{n.d(t,{bU:()=>u,fD:()=>c,he:()=>l,nm:()=>s});n(59208),n(2944),n(42078),n(40313),n(24847),n(60989),n(59433),n(52165),n(45191),n(20767),n(10565),n(20427),n(45803),n(62980),n(11034),n(65083),n(47246),n(36389),n(82399),n(48605),n(75231),n(2795),n(77020);var r=n(42534);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t){if(!e)return"/concerts";var n=null==t?void 0:t.normalize().replaceAll(/\W+/g,"-");return n?"/concerts/location/".concat(e,"-").concat(n):"/concerts/location/".concat(e)},o=10;function c(e){if(0===e.length)return[];if(0===e[0].events.length)return[];var t,n=[],r={date:e[0].events[0].openingDate.slice(0,o),events:[]},a=i(e);try{for(a.s();!(t=a.n()).done;){var s,c=i(t.value.events);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=l.openingDate.slice(0,o);r.date!==u&&(n.push(r),r={date:u,events:[]}),r.events.push(l)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return n.push(r),n}var l=function(e){return e.ticketers.some((function(e){return"spotify"===e.partnerDisplayName.toLowerCase()}))},u=function(e){return(0,r.x)(e,{representation:"date"})}},647:(e,t,n)=>{n.d(t,{o:()=>m});var r=n(98866),i=n(58634),a=n(29969),s=n(52618),o=n.n(s),c=n(30040),l=n(34630),u=function(){var e=(0,a.A)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.aw)(c.n.getInstance(),t,n);case 2:return i=e.sent,e.abrupt("return",null===(r=i.body)||void 0===r?void 0:r.found[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(e){var t=(0,r.A)(e.queryKey,2),n=(t[0],t[1]),i=n.username,a=n.concertUri;return u(i,a)},m=function(e){var t=["concertInCollection",e];return(0,i.I)({queryKey:t,queryFn:d,retry:!1,enabled:!!e.username})}},65604:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ut});n(67601),n(83603),n(51338),n(45803),n(62980),n(75231),n(40675),n(76133);var r=n(33165),i=n(58184),a=n(55910),s=n(96839),o=n(8539),c=n(34204),l=n(82342),u=n(21792),d=n(18520),m=n(66932),v=n(64741),h=n(79851),f=n(74460),g=n(57528),x=n(96331),j=n(27489),p=n(58400),y=n(66569),b=(n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(42363),n(21977),n(26980),n(46825),n(30758)),N=n(96588),S=n(99078),_=n(32870),k=n(17635),C=n(41253),w=n(80047),I=n(66410),R=n(79464),A=n(2262),O=n(9475);const E="DT8qnb2n6r8T68jLVthh",D="zTsWYsr2n9I1LMmEDGTU",U="qWd4xt94mckHYR2xmAKj",M="SkMjjVu2vVUOX8DzcDSo",P="tyNr9rDKx_AdxYH5e_JY",T="od7mn8s0l5iqP3Svx0AV";var F=n(86070);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,y.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const V=(0,b.memo)((function(e){var t,n,r,a=e.location,s=e.showTime,c=e.ageRestriction,l=e.htmlDescription,u=e.doorsOpenTime,d=e.spec,m=(0,R.s)(),v=(0,k.NC)(A.Zx),h=a.metroAreaLocation?(0,I.nm)(null===(t=a.metroAreaLocation)||void 0===t?void 0:t.geonameId,null===(n=a.metroAreaLocation)||void 0===n?void 0:n.fullName):null;return(0,F.jsxs)("div",{className:E,children:[(null==l?void 0:l.trim())&&(0,F.jsxs)("div",{className:D,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:U,children:o.Ru.get("artist.about")}),(0,F.jsx)(C.q,{html:l,onTimeStampClick:function(){}})]}),(0,F.jsxs)("div",{className:D,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:U,children:o.Ru.get("tracklist.header.venue")}),(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(N.t,{className:M}),(0,F.jsxs)("div",{children:[(0,F.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:a.name}),(0,F.jsx)(i.E,{as:"p",variant:"bodyMedium",children:(0,O.im)(B(B({},a),{},{name:""}))})]})]}),(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(S.p,{className:M}),(0,F.jsxs)("div",{children:[(0,F.jsxs)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:[u&&o.Ru.get("concert.door_time",o.Ru.formatDate(u,{timeStyle:"short"})),u&&" • ",o.Ru.get("concert.show_time",o.Ru.formatDate(s,{timeStyle:"short"}))]}),(null==c?void 0:c.trim())&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMedium",children:c})]})]}),v&&h&&(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(_.T,{className:M}),(0,F.jsx)(w.A,{to:h,onClick:function(){return e=h,t=d.concertLocationLinkFactory().hitUiNavigate({destination:e}),void m.logInteraction(t);var e,t},children:(0,F.jsx)(i.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.Ru.get("concert.see_more_events_in_location",null===(r=a.metroAreaLocation)||void 0===r?void 0:r.fullName)})})]})]})]})}));n(23833);var z=n(45782),K=n(32282),q=n(93239),G=n(25931),W=n(93697),Y=n(42021),Q=n(16443),Z=n(85368),H=n(96615),X=b.memo((function(e){var t=e.uri,n=(0,Y.o)(t).spec;return(0,F.jsx)(W.pZ,{value:"concert",children:(0,F.jsxs)(G.W,{children:[(0,F.jsx)(H.h,{children:(0,F.jsx)(Q.m,{spec:n,uri:t,displayText:o.Ru.get("context-menu.copy-concert-link")})}),(0,F.jsx)(Z.q,{spec:n,uri:t})]})})})),J=n(63259),$=n(98866),ee=n(41978),te=n(71309),ne=n(91581),re=n(99353),ie=n(29158),ae=n(68688),se=n(30040),oe=n(34630),ce=n(69798),le=n(647),ue=n(82092);const de="x6zNCqcdrTezhaUq6pck",me="ZcbYxrNgxYr3SbEDBTYc",ve="_vV79k5wVj4ojQrGsBb1",he="rdv_h11KFhUaePKRhMCV",fe="Iq0_yrjNiWn8wRH7aDph",ge="cywtrgfOWVwmo7QagmNV",xe="_vCmAsTSGBADcknU2Mzz",je="Y6ilq5IfXWe4NCTIEAQs",pe="F0GSgR3ItvuSGr62Oe5g",ye="LtnM_4Oyo1HSd2O3TmCE",be="IQqSOBxm76WfDmGIj1DU",Ne="FSRM6nxcxudGRBZa4PTT",Se="ptXgOTvLktMzK0gfIr3K",_e="Y2Rtthdu0TlFAE_wU0Ah",ke="ntlY4xYsXqEM8EWs1uvk",Ce="a4SDu_eWa3Lmy8zYJJOU",we="rkyLixjACVqakDzW70Fj",Ie="QktlqjloKFGPU6VeCdJB",Re="D5ikxKFFy7OrZoPNlsxA",Ae="_OGSfzdUucEdm0ll_tF7",Oe="NoeAvmXKTUNWhszGUnHk",Ee="YmnPLOjioNCevJtMZ0WW",De="y8RckB3uXs02SxhOZkH0",Ue="PnjkxsPxdfZjXVMFaK4X",Me="USYJQ5misC_yxAwGf2i_",Pe="LXNtpDfChMRAPEOEhNGW",Te="nfjG30FTqx4BgHijkNnt",Fe="B6WEG6LOQLlkS_qAvKTq",Le="pjNrzKzBuV7XUPky3ier",Be="i90BSV7_cgYaY8UBFCqg",Ve="TkfBKkvG2fmebTrGLIxi",ze="Cu2TG7TTa2wwKrEpEsKY";const Ke=(0,b.memo)((function(e){var t=e.concertUri,n=e.entitySpec,r=(0,b.useMemo)((function(){return n.interestedButtonFactory()}),[n]),i=(0,ce.t)(r),a=(0,R.s)(),c=(0,ue.d)().enqueueSnackbar,l=(0,ee.d4)(ae.F6),u=(0,le.o)({username:l,concertUri:t}),d=u.data,m=u.isLoading,v=(0,b.useState)(),h=(0,$.A)(v,2),f=h[0],g=h[1],x=void 0===f?d:f,j=(0,s.o_)(t);return(0,F.jsx)(ie.Zp,{label:o.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,F.jsx)(te.n,{ref:i,size:"small",iconLeading:x?ne.i:re.u,className:Oe,"aria-checked":x,disabled:m,onClick:function(){if(!m)if(x){var e=r.hitRemoveInterest();e&&a.logInteraction(e),g(!1),c(o.Ru.get("concerts_removed-from-your-saved-events")),(0,oe.Jr)(se.n.getInstance(),j.id)}else{var t=r.hitAddInterest();t&&a.logInteraction(t),g(!0),c(o.Ru.get("concerts_added-to-your-saved-events")),(0,oe.m9)(se.n.getInstance(),j.id)}},children:o.Ru.get("concerts_interested")})})}));n(20427);var qe=n(95477),Ge=n(10131),We=n(68262),Ye=n(27233),Qe=n(67939);const Ze=(0,b.memo)((function(e){var t=e.concertUri,n=e.offer,r=e.position,a=e.spec,s=e.onRemindMe,c=n.soldOut||(0,Ge.m7)(n.endDateIsoString),l="Spotify"===n.providerName,u=(0,Ge.PR)(n.startDateIsoString),d=u?void 0:n.url,m=(0,R.s)(),v=(0,We.W)(),h=(0,b.useMemo)((function(){return a.ticketProviderCellFactory({identifier:n.providerName,position:r,uri:n.url})}),[a,n.providerName,r,n.url]),f=(0,ce.t)(h),g=(0,b.useMemo)((function(){if(c)return(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Pe,children:o.Ru.get("concerts.soldout")});if(u){var e=n.startDateIsoString&&new Date(n.startDateIsoString);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ue,children:o.Ru.get("concerts.tickets_on_sale_soon")}),e&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Fe,children:o.Ru.get("concerts.ticket_date_time",(0,Ge.Y)(e),(0,Ge.WB)(e))})]})}var t={"on-sale":o.Ru.get("concerts.on_sale"),presale:o.Ru.get("concerts.presale")};return(0,F.jsxs)(F.Fragment,{children:[t[n.saleType]&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ue,children:t[n.saleType]}),l&&n.minPrice&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:De,children:o.Ru.get("concerts.ticket_price",n.minPrice)})]})}),[c,u,n.saleType,n.minPrice,n.startDateIsoString,l]),x=(0,b.useMemo)((function(){return c?null:(u&&(qe.$,o.Ru.get("concerts.remind_me")),(0,F.jsx)(qe.$,{className:Ee,iconTrailing:Ye.p,size:"small",children:l?o.Ru.get("concert_buy_tickets"):o.Ru.get("concert_find_tickets")}))}),[c,u,l,s]);return(0,F.jsxs)("a",{href:d,className:be,target:"_blank",ref:f,onClick:function(){var e=h.hitNavigateToExternalUri({destination:n.url});e&&m.logInteraction(e),v({targetUri:t,intent:"find-concert",type:"click"})},children:[(0,F.jsx)("div",{className:Ne,children:(0,F.jsx)(Qe._,{loading:"eager",src:n.providerImageUrl,height:"100%",width:"100%",className:Se,children:(0,F.jsx)(_.T,{className:_e,size:"medium"})})}),(0,F.jsxs)("div",{className:ke,children:[(0,F.jsxs)("div",{dir:"auto",className:Me,children:[g,(0,F.jsx)(i.E,{as:"p",semanticColor:"textSubdued",children:n.providerName})]}),x]})]})}));const He=(0,b.memo)((function(e){var t=e.concertUri,n=e.offers,r=e.entitySpec,a=(0,b.useMemo)((function(){return r.ticketProviderListFactory()}),[r]),s=(0,ce.t)(a);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert.header.tickets_available_on")}),(0,F.jsx)("div",{ref:s,className:pe,children:n.map((function(e,n){return(0,F.jsx)(Ze,{concertUri:t,offer:e,position:n,onRemindMe:function(){},spec:a},e.url)}))}),(0,F.jsx)(i.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:ye,children:o.Ru.get("events_page.disclaimer")})]})}));n(60989),n(82368),n(45191),n(58470),n(36389),n(77020),n(52067),n(76867),n(45935),n(60726),n(82765),n(13312);var Xe=n(2222),Je=n(46600);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var et=function(e){var t=e.locationName,n=e.latitude,r=e.longitude,a=e.onClick,s=new URL("https://maps.google.com/");return s.searchParams.set("q",t),n&&r&&s.searchParams.set("ll","".concat(n,",").concat(r)),(0,F.jsx)("a",{href:s.href,target:"_blank",onClick:function(){return null==a?void 0:a(s.href)},children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:t})})};const tt=(0,b.memo)((function(e){var t;if((0,k.NC)(Je.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){var n=e.venue.data.uri;return(0,F.jsx)(Xe.A,{to:n,onClick:function(){var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e,n)},children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:e.locationName})})}return(0,F.jsx)(et,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,y.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));const nt=(0,b.memo)((function(e){var t,n,r=e.concert,a=e.entitySpec,s=(0,R.s)(),c=(0,J.V)(),l=(0,Ge.l4)(r.startDateIsoString);if((0,Ge.m7)(r.startDateIsoString))return(0,F.jsxs)("div",{className:je,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert_event_ended")}),(0,F.jsx)(i.E,{variant:"bodyMedium",children:(0,F.jsx)(w.A,{to:"spotify:concerts",children:o.Ru.get("concert_past_message")})})]});return(0,F.jsxs)("div",{className:je,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:Te,children:(0,F.jsx)(tt,{venue:r.venue,locationName:(0,O.im)(r.location),latitude:null===(t=r.location.coordinates)||void 0===t?void 0:t.latitude,longitude:null===(n=r.location.coordinates)||void 0===n?void 0:n.longitude})}),(0,F.jsx)(i.E,{as:"h3",variant:"bodySmall",className:Re,children:[(0,Ge.Y)(l),(0,Ge.WB)(l)].join(" • ")}),(0,F.jsxs)("div",{className:de,children:[!c&&(0,F.jsx)(Ke,{concertUri:r.uri,entitySpec:a}),(0,F.jsx)(K.w,{uri:r.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:function(){var e=a.shareEventButtonFactory({uri:r.uri}).hitShare({entityToBeShared:r.uri,shareId:r.uri});e&&s.logInteraction(e)},className:Le,ariaLabel:o.Ru.get("concerts_share_with_friends")}),(0,F.jsx)(q.b,{menu:(0,F.jsx)(X,{uri:r.uri}),onShow:function(){var e=a.contextMenuButtonFactory().hitUiReveal();e&&s.logInteraction(e)},children:(0,F.jsx)(z.e,{size:"large"})})]}),(0,F.jsx)(He,{concertUri:r.uri,offers:r.offers.items,entitySpec:a})]})}));var rt=n(59950),it=(n(2944),n(90433)),at=n(54168),st=n(98802),ot=(n(41669),n(61229)),ct=function(e,t){return new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime()},lt=function(e){var t,n,r,i,a=e.artist,s=e.spec,c=(0,R.s)(),l=a.goods.events.concerts.items.filter((function(e){return e.nearUser})).sort(ct).shift(),u=l&&(n=l,i=o.Ru.formatDate((0,Ge.l4)(null==n?void 0:n.date.isoString),{day:"numeric",month:"short"}),null!==(r=n.venue.location)&&void 0!==r&&r.name?"".concat(i,", ").concat(n.venue.location.name):i),d=null===(t=a.goods.events.userLocation)||void 0===t?void 0:t.name,m="".concat(a.uri,":concerts");return(0,F.jsxs)("div",{className:Ve,children:[l&&d&&(0,F.jsxs)("div",{className:ze,children:[(0,F.jsx)(ot.Z,{children:o.Ru.get("concerts.next_concert_near_location_colon",d)}),(0,F.jsx)(w.A,{to:l.uri,onClick:function(){return e=l.uri,t=s.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e}),void c.logInteraction(t);var e,t},children:(0,F.jsx)(ot.Z,{semanticColor:"textSubdued",children:u})})]}),(0,F.jsxs)("div",{className:ze,children:[(0,F.jsx)(ot.Z,{children:o.Ru.get("concerts.on_tour_colon")}),(0,F.jsx)(w.A,{to:m,onClick:function(){var e=s.artistEventsLinkFactory({uri:m}).hitUiNavigate({destination:m});c.logInteraction(e)},children:(0,F.jsx)(ot.Z,{semanticColor:"textSubdued",children:o.Ru.get("concerts.view_all_upcoming_concerts_count",a.goods.events.concerts.totalCount)})})]})]})},ut=n(86485);const dt="FjO33VzGE6gfBjmL653W",mt="_NcmNLWwFe2sPY79b4Qa",vt="akNxAcOtC3FYI8sqvJjD",ht="mUE9LjVEFQPKle8deylh",ft="Vf1WyewhhIsg7A_HPmBJ",gt="XY8pb4mCvOicd35GIUMg",xt="_KEuwafdCwVU1rKBhfQz";var jt=(0,b.memo)((function(e){var t=e.imageUri,n=e.name,r=e.uri,a=e.headliner,s=e.onClick,c=(0,F.jsxs)(w.N,{to:r,className:mt,onClick:s,children:[t?(0,F.jsx)(ut.b,{children:(0,F.jsx)("div",{"data-testid":"image-container",className:xt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat(t,")")}})}):null,(0,F.jsxs)("div",{className:vt,children:[a&&(0,F.jsx)("div",{className:ft,children:(0,F.jsx)(i.E,{as:"h4",variant:"bodySmallBold",className:gt,children:o.Ru.get("concert.label.headliner")})}),(0,F.jsx)(i.E,{as:"h2",variant:"titleMedium",className:ht,children:n})]})]});return(0,F.jsx)("div",{className:dt,children:c})}));const pt=jt;const yt=(0,b.memo)((function(e){var t,n=e.artist,r=e.position,i=e.lineupSpec,a=(0,b.useMemo)((function(){return i.artistRowFactory({position:r,uri:n.uri})}),[i,r,n.uri]),s=(0,R.s)(),c=(0,k.NC)(Je.DFH),l=n.relatedContent.featuringV2.items.flatMap((function(e){var t=e.data;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),u=n.discography.popularReleasesAlbums.items,d=null===(t=n.visuals.avatarImage)||void 0===t||null===(t=t.sources)||void 0===t?void 0:t[0],m=(0,F.jsx)(pt,{uri:n.uri,name:n.profile.name,imageUri:null==d?void 0:d.url,headliner:0===r,onClick:function(){var e=null==a?void 0:a.artistCardFactory().hitUiNavigate({destination:n.uri});e&&s.logInteraction(e)}},n.uri),v=l.map((function(e,t){var n,r="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,F.jsx)(at.B,{index:t,uri:e.uri,name:e.name,images:null===(n=e.images.items[0])||void 0===n?void 0:n.sources,description:e.description||"",authorName:r},e.uri)})),h=u.map((function(e,t){var n,r=e.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}}));return(0,F.jsx)(it.a,{uri:e.uri,index:t,artists:r,images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,F.jsxs)(W.pZ,{value:"headered-grid",index:r,children:[(0,F.jsx)(st.$,{title:0===r?o.Ru.get("concert.lineup"):"",total:2+v.length+h.length,seeAllUri:n.uri,seeAllLabel:o.Ru.get("view.see-all"),onClickShelfSeeAll:function(){var e=null==a?void 0:a.seeDiscographyLinkFactory().hitUiNavigate({destination:n.uri});e&&s.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[m,null].concat((0,rt.A)(v),(0,rt.A)(h)),className:Be}),c&&(0,F.jsx)(lt,{artist:n,spec:a})]},n.uri)}));const bt=(0,b.memo)((function(e){var t=e.artists,n=e.entitySpec,r=(0,b.useMemo)((function(){return n.lineupArtistsFactory()}),[n]),i=(0,ce.t)(r);return(0,F.jsx)("div",{ref:i,className:Ce,children:t.flatMap((function(e,t){if("Artist"!==e.data.__typename)return[];var n=e.data;return[(0,F.jsx)(yt,{artist:n,position:t,lineupSpec:r},n.uri)]}))})}));var Nt=n(48536);const St="Hfc2oes6xv_aDZe9NiT1",_t="SHue2Uo0VFHp8utelad9",kt="RR0j6Ja2HpvGlL7Hq2wg";const Ct=(0,b.memo)((function(e){return(0,F.jsxs)(w.N,{to:"spotify:concerts",className:St,onClick:e.onClick,children:[(0,F.jsx)(ut.b,{children:(0,F.jsx)("div",{className:kt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat("https://concerts.spotifycdn.com/ConcertHubCard.png",")")}})}),(0,F.jsx)("div",{className:_t,children:(0,F.jsx)(i.E,{as:"h2",variant:"titleSmall",children:o.Ru.get("concerts_browse_more")})})]})}));var wt=n(37719),It=(0,b.memo)((function(e){var t,n=e.concert,r=e.position,i=e.recommendedSpec,a=(0,R.s)(),s=n.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),o=s.map((function(e){return e.profile.name})),c=(0,O.tI)(n.title,n.festival,o)?n.title:(0,O.Ac)(o),l=null===(t=s[0])||void 0===t||null===(t=t.visuals.avatarImage)||void 0===t?void 0:t.sources[0];return(0,F.jsx)(wt.A,{uri:n.uri,title:c,date:n.startDateIsoString,subTitle:(0,O.im)(n.location),imageUrl:null==l?void 0:l.url,firstParty:n.firstParty,onClick:function(){var e=null==i?void 0:i.concertCardFactory({position:r,uri:n.uri}).hitUiNavigate({destination:n.uri});e&&a.logInteraction(e)}})}));const Rt=(0,b.memo)((function(e){var t=e.relatedConcerts,n=e.entitySpec,r=(0,b.useMemo)((function(){return n.recommendedConcertsFactory()}),[n]),i=(0,R.s)(),a=(0,ce.t)(r),s=t.items.flatMap((function(e){return"ConcertV2"===e.data.__typename?[e.data]:[]}));if(0===s.length)return null;return(0,F.jsx)("div",{ref:a,className:Ie,"data-testid":"concert-recommendations",children:(0,F.jsx)(W.pZ,{value:"headered-grid",children:(0,F.jsxs)(st.$,{title:o.Ru.get("concert.similar_events"),total:t.totalCount,className:Ae,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.Ru.get("view.see-all"),colGap:(0,Nt.po)("base"),withEncoreCards:!1,children:[(0,F.jsx)(Ct,{onClick:function(){var e=null==r?void 0:r.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&i.logInteraction(e)}},"browse"),s.map((function(e,t){return(0,F.jsx)(It,{position:t,concert:e,recommendedSpec:r},e.uri)}))]})})})}));var At=n(67281),Ot=n(42344),Et=new At.l("concert","query","a3ed35c5dab1ccb9dc41018822adb997e77f34bf12b2ee7f92ffcc5469ce7ae3",null),Dt=function(e){var t,n,r,o=e.concert,g=(0,p.r)(a.b,{data:{identifier:null===(t=(0,s.o_)(o.uri))||void 0===t?void 0:t.id,uri:o.uri}}).spec,y=o.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),b=y[0].visuals.headerImage;(0,x.z)(null==b||null===(n=b.extractedColors)||void 0===n?void 0:n.colorDark.hex);var N=y.map((function(e){return e.profile.name})),S=(0,O.tI)(o.title,o.festival,N)?o.title:(0,O.re)(N),_=(0,Ge.l4)(o.startDateIsoString);return(0,F.jsxs)("section",{className:fe,children:[(0,F.jsx)(l.Q,{children:(0,j.K9)(o.title,o.location.city,o.location.name)}),(0,F.jsxs)(d.z,{backgroundImages:null==b?void 0:b.sources,children:[(0,F.jsxs)(m.Y,{children:[(0,F.jsx)(u.Z,{children:(0,F.jsx)("div",{className:me,children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:ve,children:(0,Ge.Fn)(_)})})}),(0,F.jsx)(f.mm,{className:ge,children:S})]}),(0,F.jsx)(v.h,{children:(0,F.jsx)("div",{className:we,children:(0,F.jsx)(h.X,{text:S})})})]}),(0,F.jsxs)("div",{className:he,children:[(0,F.jsx)(c.K,{backgroundColor:null==b||null===(r=b.extractedColors)||void 0===r?void 0:r.colorDark.hex}),(0,F.jsxs)("div",{className:xe,children:[(0,F.jsx)(nt,{concert:o,entitySpec:g}),(0,F.jsx)(bt,{artists:o.artists.items,entitySpec:g}),(0,F.jsx)(V,{location:o.location,showTime:_,htmlDescription:o.htmlDescription,ageRestriction:o.ageRestriction,doorsOpenTime:o.doorsOpenTimeIsoString?(0,Ge.l4)(o.doorsOpenTimeIsoString):null,spec:g}),(0,F.jsx)(Rt,{relatedConcerts:o.relatedConcerts,entitySpec:g})]})]})]})};const Ut=function(){var e,t,n=(0,r.g)().concertId,i="spotify:concert:".concat(n),a=(e={uri:i},(0,Ot.I)(Et,e,t)),s=a.loading,c=a.error,l=a.data;return s?(0,F.jsx)(g.A,{hasError:!1,errorMessage:""}):c||"ConcertV2"!==(null==l?void 0:l.concert.__typename)?(0,F.jsx)(g.A,{hasError:!0,errorMessage:o.Ru.get("concert.error.concert_not_found_title")}):(0,F.jsx)(Dt,{concert:l.concert})}}}]);
=======
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7288],{4576:(e,i,n)=>{n.d(i,{T:()=>u});var t=n(50959),a=n(82187),s=n.n(a),l=n(40763),r=n(85648),o=n(55842),d=n(74713);const c="pvGZ831aNzHTQMZ8CA_u";var m=n(11527);const u=(0,t.memo)((function({onClick:e=(()=>{}),size:i,className:n,uri:a,sharingInfo:u,interactionData:k,ariaLabel:v=r.ag.get("mwp.list.item.share"),condensedAll:g}){const{onCopyLink:h}=(0,d.y)({sharingInfo:u,uri:a,interactionData:k}),x=(0,t.useCallback)((()=>{h(),e()}),[e,h]);return(0,m.jsx)(o.E,{ariaLabel:v,size:i,onClick:x,className:s()(c,n),icon:l.M,condensedAll:g,condensed:!0})}))},29390:(e,i,n)=>{n.d(i,{w:()=>y});var t=n(50959),a=n(82187),s=n.n(a),l=n(43183),r=n.n(l),o=n(69736),d=n(77581);n(86277);const c=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var m=n(60046),u=n(11527);const k=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,v=/^https?:\/\//;function g(e){return"string"==typeof e?(0,u.jsx)(u.Fragment,{children:e.split(k).map(((e,i)=>i%2?(0,u.jsx)(m.Link,{to:`${v.test(e)?"":"https://"}${e}`,children:e},i):e))}):e}const h="playlist-playlist-heading",x="playlist-playlist-playlistDescription",N="playlist-playlist-list",S="playlist-playlist-listItem",p="playlist-playlist-paragraph",y=t.memo((function({html:e,onTimeStampClick:i,enableTimestamps:n=!1,enableAutomaticLinkification:a=!1,semanticColor:l="textSubdued",className:o,asTextContent:d=!1}){const m=(0,t.useMemo)((()=>{const t=n?e.split(c).map((e=>e.match(c)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):e;let s;try{s=r()(t,{transform:j(i,l,a,d),dangerouslySetChildren:[]})}catch{s=e}return s}),[n,a,e,i,l,d]);return(0,u.jsx)("div",{className:s()(x,o),children:m})}));function j(e=(()=>{}),i,n,a){let s=0;const l={_:(e,i,l)=>{const r=void 0===i?e:l;return(0,u.jsx)(t.Fragment,{children:n&&!a?g(r):r},"fragment"+s++)}};if(a)return l;return{...l,p:e=>(0,u.jsx)(o.x,{as:"p",variant:"bodyMedium",semanticColor:i,className:p,children:n?g(e.children):e.children}),a:i=>i.href?.startsWith("#t=")?(0,u.jsx)(d.E,{onClick:e,children:i.children}):i.href?(0,u.jsx)(m.Link,{to:i.href,children:i.children}):(0,u.jsx)(u.Fragment,{children:i.children}),ul:e=>(0,u.jsx)("ul",{className:N,children:e.children}),ol:e=>(0,u.jsx)("ol",{className:N,children:e.children}),li:e=>(0,u.jsx)(o.x,{as:"li",variant:"bodyMedium",semanticColor:i,className:S,children:n?g(e.children):e.children}),br:()=>(0,u.jsx)("br",{}),h1:e=>(0,u.jsx)(o.x,{as:"h1",variant:"bodyMediumBold",semanticColor:i,className:h,children:e.children}),h2:e=>(0,u.jsx)(o.x,{as:"h2",variant:"bodyMediumBold",semanticColor:i,className:h,children:e.children}),h3:e=>(0,u.jsx)(o.x,{as:"h3",variant:"bodyMediumBold",semanticColor:i,className:h,children:e.children}),h4:e=>(0,u.jsx)(o.x,{as:"h4",variant:"bodyMediumBold",semanticColor:i,className:h,children:e.children}),h5:e=>(0,u.jsx)(o.x,{as:"h5",variant:"bodyMediumBold",semanticColor:i,className:h,children:e.children}),h6:e=>(0,u.jsx)(o.x,{as:"h6",variant:"bodyMediumBold",semanticColor:i,className:h,children:e.children}),time:i=>(0,u.jsx)(d.E,{onClick:e,children:i.children})}}},25847:(e,i,n)=>{n.d(i,{Z:()=>S});var t=n(50959),a=n(69736),s=n(60702),l=n(60046),r=n(56146),o=n(5863);const d="MUiWCNTfb6FcSwVPvQ1V",c="UAk3bMhekwJTV_wIyfsT",m="X9w6LPfKsZHMCs38sVIQ",u="NXn5KjeUOjLGlAfS1Gao",k="N0wgFMDDvCiby4QB5kLJ",v="nloNe2BLRHjz9dxlwfLU",g="FyD0hF1e2PKzRxQ6sYDQ",h="JzXND83mXvcEuntCNR34",x="GR08E4L_rOGljyQQX30R";var N=n(11527);const S=(0,t.memo)((e=>{const{uri:i,title:n,imageUrl:t,date:S,location:p,firstParty:y,onClick:j}=e,f=(0,o.CH)(S);return(0,N.jsxs)(l.Link,{to:i,className:d,"data-testid":"concert-card",onClick:j,children:[t&&(0,N.jsx)(r.Z,{children:(0,N.jsx)("div",{role:"img",className:x,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${t})`}})}),(0,N.jsx)("time",{className:c,dateTime:S,children:(0,N.jsx)(a.x,{as:"div",variant:"bodySmallBold",children:(0,o.jx)(f)})}),(0,N.jsxs)("div",{className:m,dir:"auto",children:[(0,N.jsx)(a.x,{as:"p",className:h,variant:"bodySmall",children:[(0,o.FO)(f),(0,o.hK)(f)].join(" • ")}),(0,N.jsx)(a.x,{as:"h2",variant:"bodyMediumBold",className:u,children:n}),(0,N.jsxs)("div",{className:k,children:[y&&(0,N.jsx)("span",{className:g,children:(0,N.jsx)(s.V,{size:"small"})}),(0,N.jsx)(a.x,{as:"span",className:v,variant:"bodySmall","data-testid":"location-name",children:p})]})]})]})}))},88993:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(50959),a=n(11317),s=n(85648),l=n(50554),r=n(43827),o=n(25847),d=n(11527);const c=(0,t.memo)((e=>{const{concert:i,isVirtual:n,onClick:t}=e,{venue:c,location:m}=i,u=i.artists[0];return(0,d.jsx)(o.Z,{uri:(0,a.g3)(i.id).toURI(),title:(0,r.ij)(i),imageUrl:u.imageUri,date:i.startDate.localDate,location:n?c:[c,m].join(s.ag.getSeparator()),firstParty:(0,l.$R)(i),onClick:t})}))},50554:(e,i,n)=>{n.d(i,{$R:()=>o,DF:()=>u,Vv:()=>c,ie:()=>k,k9:()=>r,pm:()=>m,sk:()=>d,yI:()=>s});n(46758),n(39301);var t=n(44242),a=n(16012);const s=(e,i)=>{if(!e)return"/concerts";const n=i?.normalize().replaceAll(/\W+/g,"-");return n?`/concerts/location/${e}-${n}`:`/concerts/location/${e}`},l=10;function r(e){if(0===e.length)return[];if(0===e[0].events.length)return[];const i=[];let n={date:e[0].events[0].openingDate.slice(0,l),events:[]};for(const t of e)for(const e of t.events){const t=e.openingDate.slice(0,l);n.date!==t&&(i.push(n),n={date:t,events:[]}),n.events.push(e)}return i.push(n),i}const o=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),d=e=>e.concerts.some((({concert:e})=>o(e))),c=e=>{const i=new Date(e);i.setDate(e.getDate()+(6-e.getDay()));const n=new Date(i);return n.setDate(i.getDate()+1),{from:i,to:n}},m=e=>{const i=new Date(e);i.setDate(e.getDate()+(6-e.getDay()));const n=new Date(i);n.setDate(i.getDate()+7);const t=new Date(n);return t.setDate(n.getDate()+1),{from:n,to:t}},u=(e,i)=>!!(e?.from&&e?.to&&i?.from&&i?.to)&&((0,t.K)(e.from,i.from)&&(0,t.K)(e.to,i.to)),k=e=>(0,a.c)(e,{representation:"date"})},14755:(e,i,n)=>{n.d(i,{w:()=>r});var t=n(41194),a=n(13188),s=n(70867);const l=e=>{const[i,{username:n,concertUri:t}]=e.queryKey;return(async(e,i)=>{const n=await(0,s.A0)(a.b.getInstance(),e,i);return n.body?.found[0]})(n,t)},r=e=>{const i=["concertInCollection",e];return(0,t.a)({queryKey:i,queryFn:l,retry:!1,enabled:!!e.username})}},74806:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Pi});var t=n(50959),a=n(10226),s=n(17676),l=n(41194),r=n(35869),o=n(75802),d=n(85648),c=n(91643),m=n(14755),u=n(87350),k=n(13188),v=n(70867),g=n(69736),h=n(51164),x=n(37335),N=n(41038),S=n(97922),p=n(81639),y=n(16118),j=n(98716),f=n(80626),F=(n(86277),n(82187)),C=n.n(F),b=n(6370),_=n(6487),D=n(27376),I=n(97013),w=n(4576),M=n(20580),P=n(6807),U=n(45438),T=n(94452),A=n(2017),L=n(76281),B=n(11527);const R=t.memo((function({uri:e}){const{spec:i}=(0,T.T)(e);return(0,B.jsx)(U.JL,{value:"concert",children:(0,B.jsxs)(P.v,{children:[(0,B.jsx)(A.q,{children:(0,B.jsx)(L.Jx,{spec:i,uri:e,displayText:d.ag.get("context-menu.copy-concert-link")})}),(0,B.jsx)(L.h$,{spec:i,uri:e})]})})}));var E=n(12618),V=n(60046);const z=(0,t.memo)((e=>{const{locationName:i,latitude:n,longitude:t,onClick:a}=e,s=new URL("https://maps.google.com/");return s.searchParams.set("q",i),n&&t&&s.searchParams.set("ll",`${n},${t}`),(0,B.jsx)("a",{href:s.href,target:"_blank",onClick:()=>a?.(s.href),children:(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",children:i})})}));var O=n(19039),K=n(5863),W=n(72228),$=n(13734),q=n(85039),Y=n(3533),Z=n(77725);const Q="JRuVlk6wpKk6ok7zuW6l",G="YpfopxY2udneDY34uzRN",J="KI_0F1jtTR5tWgl7gZ1E",H="gKtc3TdowDTXBaVESi1D",X="V8TIr8yJq4tYZfPEzm12",ee="rWFRSaU8daVvtbWEjvp7",ie="VvL91cIRcCi1hJh0K845",ne="vKcnOO1GNYoLKHg4T4lK",te="LdW0YNvo_Y77hgqhL4zY",ae="cTkykhjfHxkEGKbxSxXw",se="MaK8gvvxEqNafaMwXWWM",le="XgeTnLs82tTjczDR6oKn",re="P3fE7wn6Tqnibn3gljKV",oe="b3qjYcKXwrvfkQkOLMhZ",de="A8LG_5Dvp7IiXDtdR571",ce="O0PSSw8ttrMn9lzq_L16",me="D_ffrfn62aOgZKOFfZVr",ue="OH4mOZCual2ejIodzIkL",ke="se_ixDV6hBf7lve861oU",ve="YDAJHPP5lDmg71SdvJZC",ge="lKQxSRsi8KcoYx5D7mjh",he="LUMel_X4gQK0J1i6X0sC",xe="rvw6x7R5AiAT48dSkFl9",Ne="eIA_y6wnyKS7F4BkMraV",Se="CKbduoHBINBakBcguVzi",pe="oCmeNmHdfNzMD6n4mSqw",ye="l6M4kfGer7xxBaIPco5p",je="r5hQwOq0RGo1ptvIthJ0",fe="HRKlEfCQE6VjdRRg0NRf",Fe="GWAqJBkan0flx0gBI92h",Ce="YDoK0ksaHmDfScvMhW4l",be=(0,t.memo)((e=>{const{soldOut:i,futureSaleDate:n,firstParty:t,onRemindMe:a}=e;return i?null:n?(0,B.jsx)(Y.D,{className:Ne,size:"small",onClick:a,children:d.ag.get("concerts.remind_me")}):(0,B.jsx)(Y.D,{className:Ne,iconTrailing:Z.h,size:"small",children:t?d.ag.get("concert_buy_tickets"):d.ag.get("concert_find_tickets")})})),_e=(0,t.memo)((e=>{const{saleType:i,soldOut:n,futureSaleDate:t,minPrice:a,firstParty:s}=e;if(n)return(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:je,children:d.ag.get("concerts.soldout")});if(t)return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:pe,children:d.ag.get("concerts.tickets_on_sale_soon")}),(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Fe,children:d.ag.get("concerts.ticket_date_time",(0,K.xE)(t),(0,K.hK)(t))})]});const l={"on-sale":d.ag.get("concerts.on_sale"),presale:d.ag.get("concerts.presale")};return(0,B.jsxs)(B.Fragment,{children:[l[i]&&(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:pe,children:l[i]}),s&&a&&(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Se,children:d.ag.get("concerts.ticket_price",a)})]})})),De=(0,t.memo)((e=>{const{ticketListSpec:i,providerName:n,providerImageUrl:a,url:s,position:l,onRemindMe:r}=e,o=(0,f.$P)(),d=(0,$.o)(),c=(0,t.useMemo)((()=>i?.ticketProviderCellFactory({identifier:n,position:l,uri:s})),[i,n,l,s]),m=(0,f.Wi)(c),u=new Date,k=e.saleStartDate&&new Date(e.saleStartDate),v=e.saleEndDate&&new Date(e.saleEndDate),h=e.soldOut||v&&u>v||!1,x=k&&k>u?k:void 0,N="spotify"===n.toLowerCase(),S=(0,t.useCallback)((()=>{const e=c?.hitNavigateToExternalUri({destination:s});e&&o.logInteraction(e),d({targetUri:s,intent:"find-concert",type:"click"})}),[c,o,d,s]),p=x?void 0:s;return(0,B.jsxs)("a",{ref:m,href:p,target:"_blank",onClick:S,className:le,children:[(0,B.jsx)("div",{className:re,children:(0,B.jsx)(q.Ee,{loading:"eager",src:a,height:"100%",width:"100%",className:oe,children:(0,B.jsx)(W.i,{className:de,size:"medium"})})}),(0,B.jsxs)("div",{className:ce,children:[(0,B.jsxs)("div",{dir:"auto",className:ye,children:[(0,B.jsx)(_e,{saleType:e.saleType,soldOut:h,futureSaleDate:x,minPrice:e.minPrice,firstParty:N}),(0,B.jsx)(g.x,{as:"p",semanticColor:"textSubdued",children:n})]}),(0,B.jsx)(be,{soldOut:h,futureSaleDate:x,firstParty:N,onRemindMe:r})]})]})})),Ie=(0,t.memo)((e=>{const{ticketListSpec:i,providerName:n,url:a,position:s}=e,l=(0,f.$P)(),r=(0,$.o)(),o=(0,t.useMemo)((()=>i?.ticketProviderCellFactory({identifier:n,position:s,uri:a})),[i,n,s,a]),c=(0,f.Wi)(o),m=(0,t.useCallback)((()=>{const e=o?.hitNavigateToExternalUri({destination:a});e&&l.logInteraction(e),r({targetUri:a,intent:"find-concert",type:"click"})}),[o,l,r,a]);return(0,B.jsxs)("a",{href:a,className:le,onClick:m,target:"_blank",ref:c,children:[(0,B.jsx)("div",{className:re,children:(0,B.jsx)(W.i,{className:de,size:"medium"})}),(0,B.jsxs)("div",{className:ce,children:[(0,B.jsx)("div",{dir:"auto",className:ye,children:(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:pe,children:d.ag.get("concerts.on_sale")})}),(0,B.jsx)(Y.D,{className:Ne,iconTrailing:Z.h,size:"small",children:d.ag.get("concert_find_tickets")})]})]})})),we=(0,t.memo)((e=>{const{concert:i,ticketAvailabilityTranslated:n,entitySpec:l,isConcertSaved:r,isAnonymous:o}=e,{enqueueSnackbar:c}=(0,O.D)(),m=(0,K.CH)(i.date),u=`spotify:concert:${i.id}`,h=(0,t.useMemo)((()=>l.ticketProviderListFactory()),[l]),x=(0,f.$P)(),N=(0,f.Wi)(h),S=(0,t.useMemo)((()=>l.interestedButtonFactory()),[l]),p=(0,f.Wi)(S),y=(0,t.useMemo)((()=>l.shareEventButtonFactory({uri:u})),[l,u]),j=(0,f.Wi)(y),[F,P]=(0,t.useState)(r),U=(0,a.W6)(s.tpg),T=1===i.ticketers.length&&"Spotify"===i.ticketers[0].partnerDisplayName,A=!!i.ticketers[0].endDate&&(i.ticketers[0].soldOut||(0,K.OF)(i.ticketers[0].endDate?.localDate)),L=T&&A&&i.ticketers[0].partnerURL;if(0===i.ticketers.length)return null;if((0,K.OF)(i.date))return(0,B.jsxs)("div",{className:te,children:[(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",children:d.ag.get("concert_event_ended")}),(0,B.jsx)(g.x,{variant:"bodyMedium",children:(0,B.jsx)(V.default,{to:"spotify:concerts",children:d.ag.get("concert_past_message")})})]});const W=()=>{const e=S.hitUiElementToggle();x.logInteraction(e),(0,v.l7)(k.b.getInstance(),i.id),c(d.ag.get("concerts_added-to-your-saved-events")),x.logInteraction(S.hitAddInterest()),P(!0)};return(0,B.jsxs)("div",{className:te,ref:N,children:[(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",className:fe,children:"ONLINE"===i.category?(0,B.jsx)("span",{children:i.venue}):(0,B.jsx)(z,{locationName:[i.venue,i.location].join(d.ag.getSeparator()),onClick:e=>{const i=l.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});x.logInteraction(i)}})}),(0,B.jsxs)(g.x,{as:"h3",variant:"bodySmall",className:ve,children:[(0,K.xE)(m)," • ",(0,K.hK)(m)]}),n&&(0,B.jsx)(g.x,{as:"h3",className:ne,variant:"bodySmall",children:n}),(0,B.jsxs)("div",{className:Q,children:[!o&&U&&(0,B.jsx)(E.ws,{label:d.ag.get("concerts_interested_tooltip"),placement:"top-end",children:(0,B.jsx)(b.P,{size:"small",iconLeading:F?_.N:D.S,className:C()(he,{[xe]:F}),onClick:()=>{const e=S.hitUiElementToggle();x.logInteraction(e),F?((0,v.FB)(k.b.getInstance(),i.id),c(d.ag.get("concerts_removed-from-your-saved-events")),x.logInteraction(S.hitRemoveInterest())):((0,v.l7)(k.b.getInstance(),i.id),c(d.ag.get("concerts_added-to-your-saved-events")),x.logInteraction(S.hitAddInterest())),P(!F)},ref:p,children:d.ag.get("concerts_interested")})}),(0,B.jsx)("div",{ref:j,children:(0,B.jsx)(w.T,{uri:u,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{x.logInteraction(l.shareEventButtonFactory({uri:u}).hitShare({entityToBeShared:u,shareId:i.id}))},className:Ce,ariaLabel:d.ag.get("concerts_share_with_friends")})}),(0,B.jsx)(M.yj,{menu:(0,B.jsx)(R,{uri:u}),onShow:()=>{const e=l.contextMenuButtonFactory().hitUiReveal();x.logInteraction(e)},children:(0,B.jsx)(I.z,{size:I.q.md})})]}),(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",children:d.ag.get("concert.header.available_tickets_from")}),(0,B.jsxs)("div",{className:ae,children:[i.ticketers.map(((e,i)=>(0,B.jsx)(De,{concertUri:u,position:i,url:e.url,providerName:e.partnerDisplayName,providerImageUrl:e.imageURL,saleType:e.type,soldOut:e.soldOut,saleStartDate:e.startDate?.localDate,saleEndDate:e.endDate?.localDate,minPrice:e.minPrice,ticketListSpec:h,onRemindMe:W},e.url))),L&&i.ticketers[0]?.partnerURL&&(0,B.jsx)(Ie,{url:i.ticketers[0].partnerURL,providerName:i.ticketers[0].partnerDisplayName,position:i.ticketers.length,ticketListSpec:h},i.ticketers[0].partnerURL)]})]})}));n(46758),n(27082);var Me=n(72543),Pe=n(70930),Ue=n(91991),Te=n(56146);const Ae="eDtH0zY130pQDgDZ4CPX",Le="bnxKFmECExdcmyBXx9f_",Be="alGaeB59BYqDPQkX0woz",Re="UrPgHWUndGwAWPfONuwd",Ee="pF2W693VDIpPdVTVCsDg",Ve="YGVuy3Qzaam0CJPc_s4K",ze="r5Kj2xQVLHK0hf_J00US",Oe="qCN2f5PHVrzAPLvQ0lNc",Ke=(0,t.memo)((e=>{const{imageUri:i,name:n,uri:t,headliner:l,onClick:r}=e,o=(0,a.W6)(s.WDb),c=(0,B.jsxs)(V.Link,{to:t,className:C()(Le,{[Be]:!o}),onClick:r,children:[i?(0,B.jsx)(Te.Z,{children:(0,B.jsx)("div",{"data-testid":"image-container",className:Oe,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${i})`}})}):null,(0,B.jsxs)("div",{className:Re,children:[l&&(0,B.jsx)("div",{className:Ve,children:(0,B.jsx)(g.x,{as:"h4",variant:"bodySmallBold",className:ze,children:d.ag.get("concert.label.headliner")})}),(0,B.jsx)(g.x,{as:"h2",variant:"titleMedium",className:Ee,children:n})]})]});return o?(0,B.jsx)("div",{className:Ae,children:c}):c})),We=Ke,$e=(0,t.memo)((e=>{const{artist:i,albums:n,position:a,lineupArtistsSpec:s}=e,l=(0,t.useMemo)((()=>s.artistRowFactory({position:a,uri:i.uri})),[s,a,i.uri]),r=(0,f.$P)(),o=0===a,c=`${(0,Ue.GJ)(i.id)}:discography`;return(0,B.jsx)(U.JL,{value:"headered-grid",index:a,children:(0,B.jsx)(f.Nh,{spec:l||null,children:(0,B.jsx)(Pe.P,{title:o?d.ag.get("concert_lineup"):"",total:n.length+2,seeAllUri:c,seeAllLabel:d.ag.get("artist-page.show-discography"),onClickShelfSeeAll:()=>{const e=l.seeDiscographyLinkFactory().hitUiNavigate({destination:c});r.logInteraction(e)},removeOffsetMargin:!0,children:[(0,B.jsx)(We,{uri:i.uri,name:i.name,imageUri:i.imageUri,headliner:o,onClick:()=>{const e=l.artistCardFactory().hitUiNavigate({destination:i.uri});r.logInteraction(e)}},`ConcertArtistCard-${i.id}`),null,...n.map(((e,n)=>(0,B.jsx)(Me.r,{index:n,artists:[{uri:i.uri,name:i.name}],images:[{url:e.imageUri,width:100,height:100}],name:e.name,uri:e.uri,sharingInfo:null},e.uri)))]})})},i.uri)})),qe=(0,t.memo)((e=>{const{albums:i,artists:n,entitySpec:a}=e,s=(0,t.useMemo)((()=>a.lineupArtistsFactory()),[a]),l=(0,f.Wi)(s),r=(0,t.useMemo)((()=>{const e={};return i.forEach((i=>{const n=i.artistName;e[n]?e[n].push(i):e[n]=[i]})),e}),[i]);return(0,B.jsx)("div",{className:me,ref:l,"data-testid":"concert-lineup",children:n.map(((e,i)=>(0,B.jsx)($e,{artist:e,albums:r[e.name]||[],position:i,lineupArtistsSpec:s},e.uri)))})}));var Ye=n(36353);const Ze="y4xsX4QR_wfM40vOhsQ4",Qe="TPdGbM0PhSqxmhkxP9n2",Ge="y33j8HV43EGq3BPkZrLA",Je=(0,t.memo)((e=>(0,B.jsxs)(V.Link,{to:"spotify:concerts",className:Ze,onClick:e.onClick,children:[(0,B.jsx)(Te.Z,{children:(0,B.jsx)("div",{className:Ge,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,B.jsx)("div",{className:Qe,children:(0,B.jsx)(g.x,{as:"h2",variant:"titleSmall",children:d.ag.get("concerts_browse_more")})})]})));var He=n(88993);const Xe=(0,t.memo)((e=>{const i=(0,t.useMemo)((()=>e.entitySpec.recommendedConcertsFactory()),[e.entitySpec]),n=(0,f.$P)(),a=(0,f.Wi)(i),s=e.upcomingConcerts;if(!s||s.length<1)return null;const l=s.map(((e,t)=>{const a=`spotify:concert:${e.concert.id}`;return(0,B.jsx)(He.Z,{concert:e.concert,onClick:()=>{const e=i.concertCardFactory({position:t,uri:a}).hitUiNavigate({destination:a});n.logInteraction(e)}},e.concert.id)}));return(0,B.jsx)("div",{className:ke,ref:a,"data-testid":"concert-recommendations",children:(0,B.jsx)(U.JL,{value:"headered-grid",children:(0,B.jsxs)(Pe.P,{title:d.ag.get("concerts_more_events"),total:s.length+1,className:ge,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:d.ag.get("view.see-all"),colGap:Ye.g4,removeOffsetMargin:!0,children:[(0,B.jsx)(Je,{onClick:()=>{const e=i.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});n.logInteraction(e)}}),l]})})})}));var ei=n(43827);const ii=(0,t.memo)((e=>{const{data:i,isAnonymous:n,isConcertSaved:t}=e,{artists:a,albums:s,upcomingConcerts:l}=i,r=i.concert.concert,{spec:o}=(0,f.fU)(h.q,{data:{identifier:r.id,uri:`spotify:concert:${r.id}`}});return(0,j.Y)(i.color),(0,B.jsxs)("section",{className:X,children:[(0,B.jsx)(N.$,{children:d.ag.get("concert.entity_metadata.title",r.title,r.location,r.venue)}),(0,B.jsxs)(S.gF,{backgroundImages:[{url:i.headerImageUri,width:100,height:100}],backgroundColor:i.color,children:[(0,B.jsxs)(S.sP,{children:[(0,B.jsx)(S.T0,{children:(0,B.jsx)("div",{className:G,children:(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",className:J,children:(0,K.jx)((0,K.CH)(r.date))})})}),(0,B.jsx)(S.xd,{className:ee,children:(0,ei.Yl)(r)})]}),(0,B.jsx)(p.W,{children:(0,B.jsx)("div",{className:ue,children:(0,B.jsx)(y.i,{text:(0,ei.Yl)(r)})})})]}),(0,B.jsxs)("div",{className:H,children:[(0,B.jsx)(x.I,{backgroundColor:i.color}),(0,B.jsxs)("div",{className:ie,children:[(0,B.jsx)(we,{concert:r,ticketAvailabilityTranslated:i.ticketAvailabilityTranslated,entitySpec:o,isAnonymous:n,isConcertSaved:t}),(0,B.jsx)(g.x,{variant:"marginal",semanticColor:"textSubdued",children:d.ag.get("events_page.disclaimer")}),(0,B.jsx)(qe,{artists:a,albums:s,entitySpec:o}),(0,B.jsx)(Xe,{upcomingConcerts:l,entitySpec:o})]})]})]})})),ni=async e=>{const[i,n]=e.queryKey;return(await(0,v.gq)(k.b.getInstance(),n)).body},ti=()=>{const{concertId:e=""}=(0,o.UO)(),{data:i,isLoading:n}=(0,l.a)({queryKey:["concert",e],queryFn:ni,staleTime:6e5}),t=(0,r.v9)(u.n5),a=(0,m.w)({username:t,concertUri:`spotify:concert:${e}`}),s=a?.data||!1,{isAnonymous:k}=(0,r.v9)(u.Gg);return n?(0,B.jsx)(c.h,{hasError:!1,errorMessage:""}):i?(0,B.jsx)(ii,{data:i,isAnonymous:k,isConcertSaved:s}):(0,B.jsx)(c.h,{hasError:!0,errorMessage:d.ag.get("concert.error.concert_not_found_title")})};n(55115);var ai=n(11317),si=n(47262),li=n(80524),ri=n(21165),oi=n(29390);const di="my1OfSffsBBzVaY0CAnx",ci="G8dXfUfFJmGQQiyFEgTb",mi="MxwU7pYeMkLJoTSukM8c",ui="cFJ3zd0eZteC05aAkurV",ki="zDAE8Fy28LxnUBVzFvQw",vi="xrXxgPjjuSYP9s68FYhY",gi=(0,t.memo)((e=>{const{location:i,showTime:n,ageRestriction:t,htmlDescription:a,doorsOpenTime:s}=e;return(0,B.jsxs)("div",{className:di,children:[a?.trim()&&(0,B.jsxs)("div",{className:ci,children:[(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",className:mi,children:d.ag.get("artist.about")}),(0,B.jsx)(oi.w,{html:a,onTimeStampClick:()=>{}})]}),(0,B.jsxs)("div",{className:ci,children:[(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",className:mi,children:d.ag.get("tracklist.header.venue")}),(0,B.jsxs)("div",{className:vi,children:[(0,B.jsx)(li.n,{className:ui}),(0,B.jsxs)("div",{children:[(0,B.jsx)(g.x,{as:"h4",variant:"bodyMediumBold",className:ki,children:i.name}),(0,B.jsx)(g.x,{as:"p",variant:"bodyMedium",children:(0,ei.xe)({...i,name:""})})]})]}),(0,B.jsxs)("div",{className:vi,children:[(0,B.jsx)(ri.W,{className:ui}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(g.x,{as:"h4",variant:"bodyMediumBold",className:ki,children:[s&&d.ag.get("concert.door_time",d.ag.formatDate(s,{timeStyle:"short"})),s&&" • ",d.ag.get("concert.show_time",d.ag.formatDate(n,{timeStyle:"short"}))]}),t?.trim()&&(0,B.jsx)(g.x,{as:"p",variant:"bodyMedium",children:t})]})]})]})]})}));var hi=n(50540);const xi=(0,t.memo)((e=>{const{concertUri:i,entitySpec:n}=e,a=(0,t.useMemo)((()=>n.interestedButtonFactory()),[n]),s=(0,f.Wi)(a),l=(0,f.$P)(),{enqueueSnackbar:o}=(0,O.D)(),c=(0,r.v9)(u.n5),{data:g,isLoading:h}=(0,m.w)({username:c,concertUri:i}),[x,N]=(0,t.useState)(),S=void 0===x?g:x,p=(0,ai.EC)(i);return(0,B.jsx)(E.ws,{label:d.ag.get("concerts_interested_tooltip"),placement:"top-end",children:(0,B.jsx)(b.P,{ref:s,size:"small",iconLeading:S?_.N:D.S,className:he,"aria-checked":S,disabled:h,onClick:()=>{if(!h)if(S){const e=a.hitRemoveInterest();e&&l.logInteraction(e),N(!1),o(d.ag.get("concerts_removed-from-your-saved-events")),(0,v.FB)(k.b.getInstance(),p.id)}else{const e=a.hitAddInterest();e&&l.logInteraction(e),N(!0),o(d.ag.get("concerts_added-to-your-saved-events")),(0,v.l7)(k.b.getInstance(),p.id)}},children:d.ag.get("concerts_interested")})})})),Ni=(0,t.memo)((e=>{const{concertUri:i,offer:n,position:a,spec:s,onRemindMe:l}=e,r=n.soldOut||(0,K.OF)(n.endDateIsoString),o="Spotify"===n.providerName,c=(0,K.ek)(n.startDateIsoString),m=c?void 0:n.url,u=(0,f.$P)(),k=(0,$.o)(),v=(0,t.useMemo)((()=>s.ticketProviderCellFactory({identifier:n.providerName,position:a,uri:n.url})),[s,n.providerName,a,n.url]),h=(0,f.Wi)(v),x=(0,t.useMemo)((()=>{if(r)return(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:je,children:d.ag.get("concerts.soldout")});if(c){const e=n.startDateIsoString&&new Date(n.startDateIsoString);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:pe,children:d.ag.get("concerts.tickets_on_sale_soon")}),e&&(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Fe,children:d.ag.get("concerts.ticket_date_time",(0,K.xE)(e),(0,K.hK)(e))})]})}const e={"on-sale":d.ag.get("concerts.on_sale"),presale:d.ag.get("concerts.presale")};return(0,B.jsxs)(B.Fragment,{children:[e[n.saleType]&&(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:pe,children:e[n.saleType]}),o&&n.minPrice&&(0,B.jsx)(g.x,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Se,children:d.ag.get("concerts.ticket_price",n.minPrice)})]})}),[r,c,n.saleType,n.minPrice,n.startDateIsoString,o]),N=(0,t.useMemo)((()=>r?null:(c&&(Y.D,d.ag.get("concerts.remind_me")),(0,B.jsx)(Y.D,{className:Ne,iconTrailing:Z.h,size:"small",children:o?d.ag.get("concert_buy_tickets"):d.ag.get("concert_find_tickets")}))),[r,c,o,l]);return(0,B.jsxs)("a",{href:m,className:le,target:"_blank",ref:h,onClick:()=>{const e=v.hitNavigateToExternalUri({destination:n.url});e&&u.logInteraction(e),k({targetUri:i,intent:"find-concert",type:"click"})},children:[(0,B.jsx)("div",{className:re,children:(0,B.jsx)(q.Ee,{loading:"eager",src:n.providerImageUrl,height:"100%",width:"100%",className:oe,children:(0,B.jsx)(W.i,{className:de,size:"medium"})})}),(0,B.jsxs)("div",{className:ce,children:[(0,B.jsxs)("div",{dir:"auto",className:ye,children:[x,(0,B.jsx)(g.x,{as:"p",semanticColor:"textSubdued",children:n.providerName})]}),N]})]})})),Si=(0,t.memo)((e=>{const{concertUri:i,offers:n,entitySpec:a}=e,s=(0,t.useMemo)((()=>a.ticketProviderListFactory()),[a]),l=(0,f.Wi)(s);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",children:d.ag.get("concert.header.available_tickets_from")}),(0,B.jsx)("div",{ref:l,className:ae,children:n.map(((e,n)=>(0,B.jsx)(Ni,{concertUri:i,offer:e,position:n,onRemindMe:()=>{},spec:s},e.url)))}),(0,B.jsx)(g.x,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:se,children:d.ag.get("events_page.disclaimer")})]})})),pi=(0,t.memo)((e=>{const{concert:i,entitySpec:n}=e,t=(0,f.$P)(),a=(0,hi.g)(),s=(0,K.CH)(i.startDateIsoString);if((0,K.OF)(i.startDateIsoString))return(0,B.jsxs)("div",{className:te,children:[(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",children:d.ag.get("concert_event_ended")}),(0,B.jsx)(g.x,{variant:"bodyMedium",children:(0,B.jsx)(V.default,{to:"spotify:concerts",children:d.ag.get("concert_past_message")})})]});return(0,B.jsxs)("div",{className:te,children:[(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",className:fe,children:(0,B.jsx)(z,{locationName:(0,ei.xe)(i.location),latitude:i.location.coordinates?.latitude,longitude:i.location.coordinates?.longitude})}),(0,B.jsx)(g.x,{as:"h3",variant:"bodySmall",className:ve,children:[(0,K.xE)(s),(0,K.hK)(s)].join(" • ")}),(0,B.jsxs)("div",{className:Q,children:[!a&&(0,B.jsx)(xi,{concertUri:i.uri,entitySpec:n}),(0,B.jsx)(w.T,{uri:i.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=n.shareEventButtonFactory({uri:i.uri}).hitShare({entityToBeShared:i.uri,shareId:i.uri});e&&t.logInteraction(e)},className:Ce,ariaLabel:d.ag.get("concerts_share_with_friends")}),(0,B.jsx)(M.yj,{menu:(0,B.jsx)(R,{uri:i.uri}),onShow:()=>{const e=n.contextMenuButtonFactory().hitUiReveal();e&&t.logInteraction(e)},children:(0,B.jsx)(I.z,{size:"large"})})]}),(0,B.jsx)(Si,{concertUri:i.uri,offers:i.offers.items,entitySpec:n})]})}));var yi=n(87964);const ji=(0,t.memo)((e=>{const{artist:i,position:n,lineupSpec:a}=e,s=(0,t.useMemo)((()=>a.artistRowFactory({position:n,uri:i.uri})),[a,n,i.uri]),l=(0,f.$P)(),r=i.relatedContent.featuringV2.items.flatMap((e=>{const{data:i}=e;return"Playlist"===i.__typename&&"artistsets"===i.format?[i]:[]})),o=i.discography.popularReleasesAlbums.items,c=i.visuals.avatarImage?.sources?.[0],m=(0,B.jsx)(We,{uri:i.uri,name:i.profile.name,imageUri:c?.url,headliner:0===n,onClick:()=>{const e=s?.artistCardFactory().hitUiNavigate({destination:i.uri});e&&l.logInteraction(e)}},i.uri),u=r.map(((e,i)=>{const n="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,B.jsx)(yi.Z,{index:i,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:n},e.uri)})),k=o.map(((e,i)=>{const n=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,B.jsx)(Me.r,{uri:e.uri,index:i,artists:n,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,B.jsx)(U.JL,{value:"headered-grid",index:n,children:(0,B.jsx)(Pe.P,{title:0===n?d.ag.get("concert_lineup"):"",total:2+u.length+k.length,seeAllUri:i.uri,seeAllLabel:d.ag.get("view.see-all"),onClickShelfSeeAll:()=>{const e=s?.seeDiscographyLinkFactory().hitUiNavigate({destination:i.uri});e&&l.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[m,null,...u,...k]})},i.uri)})),fi=(0,t.memo)((e=>{const{artists:i,entitySpec:n}=e,a=(0,t.useMemo)((()=>n.lineupArtistsFactory()),[n]),s=(0,f.Wi)(a);return(0,B.jsx)("div",{ref:s,className:me,children:i.flatMap(((e,i)=>{if("Artist"!==e.data.__typename)return[];const n=e.data;return[(0,B.jsx)(ji,{artist:n,position:i,lineupSpec:a},n.uri)]}))})}));var Fi=n(25847);const Ci=(0,t.memo)((e=>{const{concert:i,position:n,recommendedSpec:t}=e,a=(0,f.$P)(),s=i.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),l=s.map((e=>e.profile.name)),r=(0,ei.y0)(i.title,i.festival,l)?i.title:(0,ei.gU)(l),o=s[0]?.visuals.avatarImage?.sources[0];return(0,B.jsx)(Fi.Z,{uri:i.uri,title:r,date:i.startDateIsoString,location:(0,ei.xe)(i.location),imageUrl:o?.url,firstParty:i.firstParty,onClick:()=>{const e=t?.concertCardFactory({position:n,uri:i.uri}).hitUiNavigate({destination:i.uri});e&&a.logInteraction(e)}})})),bi=(0,t.memo)((e=>{const{relatedConcerts:i,entitySpec:n}=e,a=(0,t.useMemo)((()=>n.recommendedConcertsFactory()),[n]),s=(0,f.$P)(),l=(0,f.Wi)(a),r=i.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===r.length)return null;return(0,B.jsx)("div",{ref:l,className:ke,"data-testid":"concert-recommendations",children:(0,B.jsx)(U.JL,{value:"headered-grid",children:(0,B.jsxs)(Pe.P,{title:d.ag.get("concerts_more_events"),total:i.totalCount,className:ge,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:d.ag.get("view.see-all"),children:[(0,B.jsx)(Je,{onClick:()=>{const e=a?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&s.logInteraction(e)}},"browse"),r.map(((e,i)=>(0,B.jsx)(Ci,{position:i,concert:e,recommendedSpec:a},e.uri)))]})})})}));var _i=n(20069);const Di={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"concert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"concert"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"concertEntity"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"concertEntity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"detailedArtist"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"locationInfo"}}]}},{kind:"Field",name:{kind:"Name",value:"offers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"offerInfo"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"festival"}},{kind:"Field",name:{kind:"Name",value:"startDateIsoString"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"ageRestriction"}},{kind:"Field",name:{kind:"Name",value:"doorsOpenTimeIsoString"}},{kind:"Field",name:{kind:"Name",value:"relatedConcerts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"relatedConcert"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"detailedArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"simpleArtist"}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"headerImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"featuringV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"simpleArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"locationInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertLocation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"city"}},{kind:"Field",name:{kind:"Name",value:"region"}},{kind:"Field",name:{kind:"Name",value:"country"}},{kind:"Field",name:{kind:"Name",value:"coordinates"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"}},{kind:"Field",name:{kind:"Name",value:"longitude"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"offerInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertOffer"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"providerName"}},{kind:"Field",name:{kind:"Name",value:"providerImageUrl"}},{kind:"Field",name:{kind:"Name",value:"saleType"}},{kind:"Field",name:{kind:"Name",value:"firstParty"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"soldOut"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"minPrice"}},{kind:"Field",name:{kind:"Name",value:"maxPrice"}},{kind:"Field",name:{kind:"Name",value:"startDateIsoString"}},{kind:"Field",name:{kind:"Name",value:"endDateIsoString"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedConcert"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"festival"}},{kind:"Field",name:{kind:"Name",value:"startDateIsoString"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"simpleArtist"}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"headerImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"locationInfo"}}]}},{kind:"Field",name:{kind:"Name",value:"firstParty"}}]}}]},Ii=e=>{const{concert:i}=e,{spec:n}=(0,f.fU)(h.q,{data:{identifier:(0,ai.EC)(i.uri)?.id,uri:i.uri}}),t=i.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),a=t[0].visuals.headerImage;(0,si.Y5)(a?.extractedColors?.colorDark.hex);const s=t.map((e=>e.profile.name)),l=(0,ei.y0)(i.title,i.festival,s)?i.title:(0,ei.Jn)(s),r=(0,K.CH)(i.startDateIsoString);return(0,B.jsxs)("section",{className:X,children:[(0,B.jsx)(N.$,{children:d.ag.get("concert.entity_metadata.title",i.title,i.location.city,i.location.name)}),(0,B.jsxs)(S.gF,{backgroundImages:a?.sources,children:[(0,B.jsxs)(S.sP,{children:[(0,B.jsx)(S.T0,{children:(0,B.jsx)("div",{className:G,children:(0,B.jsx)(g.x,{as:"h3",variant:"titleSmall",className:J,children:(0,K.jx)(r)})})}),(0,B.jsx)(S.xd,{className:ee,children:l})]}),(0,B.jsx)(p.W,{children:(0,B.jsx)("div",{className:ue,children:(0,B.jsx)(y.i,{text:l})})})]}),(0,B.jsxs)("div",{className:H,children:[(0,B.jsx)(x.I,{backgroundColor:a?.extractedColors?.colorDark.hex}),(0,B.jsxs)("div",{className:ie,children:[(0,B.jsx)(pi,{concert:i,entitySpec:n}),(0,B.jsx)(fi,{artists:i.artists.items,entitySpec:n}),(0,B.jsx)(gi,{location:i.location,showTime:r,htmlDescription:i.htmlDescription,ageRestriction:i.ageRestriction,doorsOpenTime:i.doorsOpenTimeIsoString?(0,K.CH)(i.doorsOpenTimeIsoString):null}),(0,B.jsx)(bi,{relatedConcerts:i.relatedConcerts,entitySpec:n})]})]})]})},wi=()=>{const{concertId:e}=(0,o.UO)(),i=`spotify:concert:${e}`,{loading:n,error:t,data:a}=(s={uri:i},(0,_i.a)(Di,s,l));var s,l;return n?(0,B.jsx)(c.h,{hasError:!1,errorMessage:""}):t||"ConcertV2"!==a?.concert.__typename?(0,B.jsx)(c.h,{hasError:!0,errorMessage:d.ag.get("concert.error.concert_not_found_title")}):(0,B.jsx)(Ii,{concert:a.concert})},Mi=()=>(0,a.W6)(s.pjZ)?(0,B.jsx)(wi,{}):(0,B.jsx)(ti,{}),Pi=()=>(0,B.jsx)(t.Suspense,{fallback:!0,children:(0,B.jsx)(Mi,{})})}}]);
>>>>>>> origin/master
//# sourceMappingURL=xpui-routes-concert.js.map