<<<<<<< HEAD
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7790],{75361:(e,i,n)=>{n.d(i,{U:()=>M});var t=n(7546),r=n(30758),a=n(8539),l=n(66569),u=n(98866),s=(n(9555),n(46686),n(80710),n(59433),n(82368),n(83603),n(91911),n(20767),n(62980),n(58470),n(36389),n(75231),n(21977),n(62420),n(26980),n(76133),n(3869),n(46825),n(97500)),o=n.n(s),c=n(33165),d=n(58184),m=n(33666),x=n(11137),f=n(58295),v=n(8159),p=n(85670),h=n(11498);var g=n(25931),y=n(86461);const j="main-topBar-contentArea",b="queue-tabBar-headerIsCentered",C="queue-tabBar-headerItem",k="queue-tabBar-moreButton",N="queue-tabBar-moreButtonActive",P="yxf_6IsQEmHjijEBUMTP",E="queue-tabBar-active",I="queue-tabBar-headerItemLink",R="queue-tabBar-header",w="queue-tabBar-chevron";var A=n(86070),U=function(e){var i=e.items,n=e.activeItemId;return(0,A.jsx)(g.W,{children:i.map((function(e){return e.disabled?(0,A.jsx)(y.D,{disabled:!0,role:"menuitemradio",className:P,onClick:e.handleClick,children:e.title},e.uri):(0,A.jsx)(y.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===n,className:function(e){var i=e.isActive;return o()(P,(0,l.A)({},E,i))},onClick:e.handleClick,children:e.title},e.uri)}))})},S=n(81621),O=(0,r.memo)((function(e){var i,n=e.isCentered,t=e.links,s=e.landmarkLabel,g=e.className,y=(0,r.useRef)(null),P=(0,r.useState)([]),O=(0,u.A)(P,2),T=O[0],q=O[1],Q=(0,r.useState)(0),F=(0,u.A)(Q,2),L=F[0],M=F[1],B=(0,r.useState)([]),D=(0,u.A)(B,2),$=D[0],_=D[1],z=null!==(i=function(){var e=(0,r.useState)(window.innerWidth),i=(0,u.A)(e,2),n=i[0],t=i[1],a=(0,r.useContext)(p.bi).scrollNodeChildRef,l=(0,v.YQ)((function(e){null!=e&&e.width&&t(e.width)}),250);return(0,h.w)({refOrElement:a,observeOnly:"width",onResize:l}),n}())&&void 0!==i?i:1/0,G=(0,c.zy)().pathname,K=t.find((function(e){return e.to===G}));return(0,r.useEffect)((function(){y.current&&M(y.current.clientWidth)}),[z]),(0,r.useEffect)((function(){if(y.current){var e=Array.from(y.current.children).map((function(e){return e.clientWidth}));q(e)}}),[t]),(0,r.useEffect)((function(){if(y.current)if(T.slice(0,-1).reduce((function(e,i){return e+i}),0)<=L)_([]);else{var e=T.reduce((function(e,i){return e>i?e:i}),0),i=[],n=e;T.forEach((function(e,t){L>=n+e?n+=e:i.push(t)})),_(i)}}),[L,T]),(0,A.jsx)("nav",{className:o()(g,j),"aria-label":s,children:(0,A.jsxs)("ul",{className:n?b:R,ref:y,children:[t.filter((function(e,i){return!$.includes(i)})).map((function(e){var i,n=null!==(i=null==e?void 0:e.render)&&void 0!==i?i:function(e){return e};return(0,A.jsx)(r.Fragment,{children:n((0,A.jsx)("li",{className:C,children:e.disabled?(0,A.jsx)("div",{className:I,children:(0,A.jsx)(d.E,{variant:"bodySmallBold",children:e.title})}):(0,A.jsx)(S.k,{end:!0,className:function(e){var i=e.isActive;return o()(I,(0,l.A)({},E,i))},to:e.to,onClick:e.handleClick,children:(0,A.jsx)(d.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),$.length||0===T.length?(0,A.jsx)("li",{className:C,children:(0,A.jsx)(f.t,{renderInline:!0,menu:(0,A.jsx)(U,{items:t.filter((function(e,i){return $.includes(i)})),activeItemId:null==K?void 0:K.itemId}),children:function(e,i,n){return(0,A.jsxs)("button",{className:o()(k,(0,l.A)({},N,K)),type:"button",onClick:i,ref:n,children:[(0,A.jsx)(d.E,{variant:"bodySmallBold",children:K?K.title:a.Ru.get("more")}),e?(0,A.jsx)(m.J,{size:"small",className:w,"aria-hidden":"true"}):(0,A.jsx)(x.y,{size:"small",className:w,"aria-hidden":"true"})]})}})}):null]})})})),T=n(87452),q=n(22927),Q=n(90893);const F="XfifUos51Clgs5a6nf2m";var L=function(){var e=(0,Q.U)(),i=(0,r.useCallback)((function(e){return(0,A.jsx)(q.u,{placement:"bottomEnd",arrow:"topStart",title:a.Ru.get("pick-and-shuffle.upsell.title.queue"),children:e})}),[]),n=(0,r.useMemo)((function(){return[{title:a.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:a.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]}),[e,i]);return(0,A.jsx)(T.g,{children:(0,A.jsx)(O,{className:F,links:n})})},M=function(e){var i=e.children,n=(0,t.y)();return(0,A.jsxs)("section",{className:"contentSpacing",children:[i,n&&(0,A.jsx)(L,{})]})}},40792:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Me});var t=n(30758),r=n(90893),a=n(537),l=n(29969),u=n(98866),s=n(52618),o=n.n(s),c=(n(59208),n(2944),n(97500)),d=n.n(c),m=n(58184),x=n(7399),f=n(23243),v=n(8539),p=n(82342),h=n(80047),g=n(80411),y=n(93697),j=n(53465),b=n(60093),C=n(58400),k=n(66191),N=n(23366),P=n(71309),E=n(86070),I=function(e){var i=e.onClick;return(0,E.jsx)(P.n,{onClick:i,size:"small",children:v.Ru.get("queue.clear-queue")})},R=n(76768),w=n(46378),A=n(57120),U=(n(60989),n(45803),n(94541)),S=n(89422),O=n(68262),T=n(27679),q=n(39876),Q=n(88420),F=n(15016),L=n(64982),M=n(17410),B=n(22058),D=n(59943),$=n(6024),_=n(49294),z=(n(23833),n(83603),n(76133),n(95614)),G=n(89220),K=n(96839),W=n(87349),Z=n(50422),H=n(53485),X=n(15609),Y=n(87393),J=n(76967),V=n(54847),ee=n(37302),ie=n(15554),ne=n(52756),te=n(86116),re=n(22443),ae=n(50082),le=n(10644),ue=n(79464),se=n(54229),oe=n(15763),ce=n(6748),de=n(4866),me=n(64436),xe=n(14936),fe=n(1479),ve=n(72786),pe=n(38680),he=n(13148),ge=n(59960),ye=n(81472),je=n(9172),be=n(39240),Ce=n(70252),ke=n(93412),Ne=n(29794),Pe=n(59417),Ee=n(96915),Ie=n(30595),Re=n(44690),we=function(e){return e.TRACK="track",e.EPISODE="episode",e.CHAPTER="chapter",e.LOCAL="local",e.AD="ad",e}({}),Ae=t.memo((function(e){var i,n,r=e.uri,a=e.uid,l=e.contextUri,u=e.name,s=e.duration_ms,o=e.artists,c=e.index,d=e.rowNumberOffset,m=e.imgUrl,x=e.isExplicit,f=e.isPlayable,p=e.isMOGEFRestricted,h=e.album,g=e.type,b=e.section,N=e.usePlayContextItem,P=e.isAutoPlay,I=void 0!==P&&P,R=e.isEnhanced,w=e.queueSpec,U=e.trackContextUri,S=(0,ue.s)(),O=(0,j.K)(),T=N({uid:a,uri:r,index:c}),q=T.triggerPlay,Q=T.togglePlay,F=(0,C.r)(G.i,{data:{position:c,reason:"",uri:r}}).spec,L=(0,ae.te)(r),M=L.isActive,B=L.isPlaying,D=(0,t.useCallback)((function(e,i){a?q({loggingParams:i},(function(){return O.skipToNext({uri:r,uid:a})})):q({loggingParams:i})}),[O,q,r,a]),$=(0,t.useCallback)((function(e){a?Q({loggingParams:e},(function(){return M?B?O.pause():O.resume():O.skipToNext({uri:r,uid:a})})):Q({loggingParams:e})}),[O,Q,r,a,M,B]),_=g===we.TRACK,Ae=g===we.EPISODE,Ue=g===we.CHAPTER,Se=Ae&&"video"===(null==h?void 0:h.mediaType),Oe=g===we.LOCAL,Te=g===we.AD,qe=(null==o?void 0:o.map((function(e){return e.name})).join(v.Ru.getSeparator()))||"",Qe=(0,re.T)(r),Fe=(0,Pe.g)(r,f,(0,K.Pk)(r)),Le=(0,se.b)({downloadAvailability:Qe,isExplicit:x,isMOGEFRestricted:p,isEnhanced:R}),Me=Le.badges,Be=Le.hasBadges,De=(0,Re.X)();n=Ae?(0,E.jsx)(H.b,{uri:r,uid:I?void 0:a,showUri:h.uri,contextUri:l}):Ue?(0,E.jsx)(Z.r,{uri:r,removeFromQueueData:{uid:I?void 0:a,contextUri:l}}):Oe?(0,E.jsx)(X.A,{uri:r,uid:I?void 0:a,contextUri:l}):Te?null:(0,E.jsx)(Y.P,{uri:r,uid:I?void 0:a,albumUri:h.uri,artists:o,contextUri:l,entityContextUri:U,isSmartRecommendation:R});var $e=(0,t.useCallback)((function(e,i){var n,t=e.meta,l=e.uris.map((function(e){return{uri:e,uid:null}}));n=i===V.Y.Before?{before:{uri:r,uid:null!=a?a:null}}:{after:{uri:r,uid:null!=a?a:null}},t.section===A.$.NowPlaying?O.addToQueue(l):t.origin===A.$.NowPlaying?O.insertIntoQueue(l,n):O.reorderQueue(l,n)}),[O,a,r]),_e=(0,t.useCallback)((function(e,i){var n,t=e.items;n=i===V.Y.Before?{before:{uri:r,uid:null!=a?a:null}}:{after:{uri:r,uid:null!=a?a:null}},O.reorderQueue(t,n)}),[O,a,r]),ze=I?[]:[ee.O[K.NQ.TRACK],ee.O[K.NQ.EPISODE]],Ge=(0,k.Zo)(),Ke=Ge.trackPageEnhancedEnabled,We=Ge.trackPageLinksNoLyricsEnabled,Ze=_&&(Ke||We);return(0,E.jsx)(y.pZ,{value:"row",index:c,children:(0,E.jsx)(W.h,{menu:n,children:(0,E.jsxs)(V.w,{uri:r,contextUri:l,index:c,onTriggerPlay:D,isActive:b===A.$.NowPlaying&&M,ariaRowIndex:c,isPlayable:Fe,ageRestricted:p,spec:F,dragMetadata:{name:u,createdBy:qe,sectionId:b},onInsert:function(e,i,n,t,a){$e({uris:e,dropIndex:i,meta:a},n),w&&S.logInteraction(w.dragAddItemToQueue({itemToAddToQueue:r}))},onMove:function(e,i,n,t){_e({items:e,dropIndex:i,meta:t},n),w&&S.logInteraction(w.dragSort())},allowedDropTypes:ze,children:[(0,E.jsx)(je.y,{ariaColIndex:0,children:(0,E.jsx)(pe.$,{uri:r,playAriaLabel:v.Ru.get("tracklist.a11y.play",u,qe),isPlaying:b===A.$.NowPlaying&&B,isActive:b===A.$.NowPlaying&&M,spec:F,onClick:function(e,i){$(i)},children:(0,E.jsx)(ge.a,{children:c+d+1})})}),(0,E.jsxs)(be.U,{ariaColIndex:1,children:[(0,E.jsx)(fe.e,{src:m,isVideo:Se,isEpisode:Ae||Ue}),(0,E.jsxs)(ve.l,{children:[(0,E.jsx)(oe.R,{enabled:Ze,uri:r,children:(0,E.jsx)(Ne.p,{titleText:u,children:u})}),Be&&(0,E.jsxs)(me.P,{children:[Me.enhanced&&(0,E.jsx)(z.R,{size:"small",className:J.A.enhanced,title:v.Ru.get("web-player.smart-shuffle.icon-hover-label"),"aria-label":v.Ru.get("web-player.smart-shuffle.icon-hover-label")}),Me.download&&(0,E.jsx)(ie._,{}),Me.explicit&&(0,E.jsx)(ne.g,{}),Me.nineteen&&(0,E.jsx)(te.q,{className:J.A.nineteen,size:16})]}),(0,E.jsxs)(ke.p,{children:[_&&(0,E.jsx)(de.l,{artists:o,spec:F}),(Ae||Oe)&&!Se&&qe]})]})]}),(0,E.jsx)(Ce.o,{ariaColIndex:2,children:(0,E.jsx)(ce.g,{nonInteractive:Oe,uri:h.uri,name:h.name,creatorUri:null==o||null===(i=o[0])||void 0===i?void 0:i.uri,spec:F,children:h.name})}),(0,E.jsxs)(ye.l,{ariaColIndex:3,children:[R&&De&&(0,E.jsx)(le.r,{spec:F,children:(0,E.jsx)(Ie.o,{className:J.A.rowFeedback,contextUri:U,id:null!=a?a:void 0,uri:r,isActive:b===A.$.NowPlaying&&M})}),!Ue&&!R&&(0,E.jsx)(Ee.d,{uri:r,type:g}),(0,E.jsx)(xe.P,{duration:s}),(0,E.jsx)(he.Y,{menu:n,label:v.Ru.get("more.label.track",u,qe),spec:F})]})]})})})}),(function(e,i){return e.uri===i.uri&&e.index===i.index&&e.name===i.name&&e.isEnhanced===i.isEnhanced})),Ue=t.memo((function(e){var i=e.tracks,n=e.ariaLabel,r=e.contextUri,a=e.currentlyPlayingContextUri,l=void 0===a?r:a,u=e.rowNumberOffset,s=void 0===u?0:u,o=e.section,c=e.usePlayContextItem,d=(0,O.W)(),m=(0,j.K)(),x=(0,t.useCallback)((function(e,i){d({intent:"remove-from-queue",type:"click"}),m.removeFromQueue(e).then(i)}),[m,d]),f=(0,t.useCallback)((function(e,i){if((0,F.p)(e)){var n,t,a=(0,D.g)(null===(n=e.show)||void 0===n?void 0:n.images,{desiredSize:40});return(0,E.jsx)(Ae,{index:i,rowNumberOffset:s,imgUrl:(null==a?void 0:a.url)||"",uri:(0,T.a)(e),uid:null!==(t=e.uid)&&void 0!==t?t:e.uri,contextUri:r,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.show.name,uri:e.show.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:we.EPISODE,section:o,usePlayContextItem:c,isAutoPlay:"autoplay"===e.provider},"".concat(i).concat(s).concat(e.uid))}if((0,Q.d)(e)){var u,d=(0,D.g)(e.images||void 0,{desiredSize:40});return(0,E.jsx)(Ae,{index:i,rowNumberOffset:s,imgUrl:(null==d?void 0:d.url)||"",uri:(0,T.a)(e),uid:null!==(u=e.uid)&&void 0!==u?u:e.uri,contextUri:r,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.book.name,uri:e.book.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:we.CHAPTER,section:o,usePlayContextItem:c,isAutoPlay:"autoplay"===e.provider},"".concat(i).concat(s).concat(e.uid))}if((0,q.N)(e)){var m,x,f,p=(0,D.g)(e.images||void 0,{desiredSize:40});return(0,E.jsx)(Ae,{index:i,rowNumberOffset:s,imgUrl:(null==p?void 0:p.url)||"",uri:e.uri,uid:null!==(m=e.uid)&&void 0!==m?m:e.uri,contextUri:r,duration_ms:e.duration.milliseconds,name:null!==(x=null!==(f=e.advertiser)&&void 0!==f?f:e.title)&&void 0!==x?x:v.Ru.get("ad-formats.advertisement"),artists:[],album:{name:"",uri:""},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:we.AD,section:o,usePlayContextItem:c,isAutoPlay:"autoplay"===e.provider,isEnhanced:!1},"".concat(i).concat(s).concat(e.uid))}if((0,L.v)(e)||(0,M.v)(e)){var h,g,y,j,b,C,k=(0,D.g)(null==e||null===(h=e.album)||void 0===h?void 0:h.images,{desiredSize:40}),N=e.type===B.c.TRACK?e:null;return(0,E.jsx)(Ae,{index:i,rowNumberOffset:s,imgUrl:(null==k?void 0:k.url)||"",uri:(0,T.a)(e),uid:null!==(g=e.uid)&&void 0!==g?g:e.uri,contextUri:r,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:null!==(y=null==N?void 0:N.isExplicit)&&void 0!==y&&y,isPlayable:!0,isMOGEFRestricted:null!==(j=null==N?void 0:N.is19PlusOnly)&&void 0!==j&&j,type:null!=N&&N.isLocal?we.LOCAL:we.TRACK,section:o,usePlayContextItem:c,isAutoPlay:"autoplay"===e.provider,isEnhanced:(0,S.N)(e),trackContextUri:null!==(b=null===(C=e.metadata)||void 0===C?void 0:C.context_uri)&&void 0!==b?b:l},"".concat(i).concat(s).concat(e.uid))}return(0,E.jsx)($.nd,{height:"".concat(_.FL,"px")})}),[s,r,l,o,c]),p=(0,t.useMemo)((function(){return[U.$.INDEX,U.$.TITLE_AND_ARTIST,U.$.ALBUM,U.$.DURATION]}),[]),h=(0,t.useCallback)((function(e){var i;return{uri:e.uri,uid:null!==(i=e.uid)&&void 0!==i?i:e.uri}}),[]);return(0,E.jsx)(_.S4,{ariaLabel:n,tracks:i,nrTracks:i.length,onRemove:x,renderRow:f,resolveItem:h,columns:p})}));const Se="vLZJk3f3zoMmc3u9QMrc",Oe="mP6tR7IgjiamGqpBW5ai",Te="LIaQPESoX4ijscRRn3lz",qe="OXu31j8D4EtomwaNzbsk",Qe="eJ2FGCSzEv3Bta0m2Haf";var Fe=function(){var e=(0,N.H)(),i=e.uri,n=e.description,r=e.current,a=e.nextUp,s=e.queued,c=e.isEmpty,P=e.hasQueuedTracks,U=e.hasNextTracks,S=(0,C.r)(x.i,{data:{identifier:f.$h.NOWPLAYING_QUEUE,uri:null!=i?i:""}}),O=S.spec,T=S.logger,q=S.UBIFragment,Q=(0,t.useMemo)((function(){return O.nowPlayingSectionFactory()}),[O]),F=(0,t.useMemo)((function(){return O.nextInQueueSectionFactory()}),[O]),L=(0,t.useMemo)((function(){return O.nextFromSectionFactory()}),[O]),M=(0,j.K)(),B=(0,t.useState)(!1),D=(0,u.A)(B,2),$=D[0],_=D[1],z=(0,t.useCallback)((function(){_(!1)}),[_]),G=(0,t.useCallback)((function(){M.clearQueue(),_(!1)}),[M]),K=(0,t.useCallback)((function(){var e,i=F.clearQueueButtonFactory();s.length>0&&(e=i.hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:s.length}),T.logInteraction(e))}),[T,F,s.length]),W=(0,t.useCallback)((0,l.A)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(),_(!0);case 2:case"end":return e.stop()}}),e)}))),[K]),Z=(0,b.P)({uri:null!=i?i:""},{featureIdentifier:"queue"}).usePlayContextItem,H=(0,t.useCallback)((0,l.A)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:n=O.nextFromSectionFactory().queueContextLinkFactory().hitUiNavigate({destination:null!=i?i:""}),T.logInteraction(n);case 4:case"end":return e.stop()}}),e)}))),[U,T,O,i]);return(0,k.oQ)(k.VW.QueuePage),c?(0,E.jsx)(w.K,{}):(0,E.jsxs)("div",{className:Se,children:[(0,E.jsx)(p.Q,{children:v.Ru.get("queue.page-title")}),(0,E.jsx)(q,{spec:O,children:(0,E.jsx)(g.Z,{className:Oe,emptyStateComponent:(0,E.jsx)(m.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:Oe,children:v.Ru.get("playback-control.queue")})})}),r&&i&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.E,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Te,children:v.Ru.get("queue.now-playing")}),(0,E.jsx)(q,{spec:Q,children:(0,E.jsx)(y.pZ,{value:"now-playing",children:(0,E.jsx)(Ue,{ariaLabel:v.Ru.get("queue.now-playing"),tracks:[r],contextUri:i,section:A.$.NowPlaying,usePlayContextItem:Z})})})]}),P&&i&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:d()(Qe,Te),children:[(0,E.jsx)(m.E,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",children:v.Ru.get("queue.next-in-queue")}),P&&(0,E.jsx)(I,{onClick:W})]}),(0,E.jsx)(q,{spec:F,children:(0,E.jsx)(y.pZ,{value:"next-in-queue",children:(0,E.jsx)(Ue,{ariaLabel:v.Ru.get("queue.next-in-queue"),tracks:s,rowNumberOffset:1,contextUri:"spotify:app:queue:NextInQueue",currentlyPlayingContextUri:i,section:A.$.NextInQueue,usePlayContextItem:Z})})})]}),U&&i&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.E,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Te,children:n&&!(0,N.K)(r)?(0,E.jsxs)("span",{className:"standalone-ellipsis-one-line",children:[v.Ru.get("queue.next-from")," ",(0,E.jsx)(h.N,{className:qe,to:i,onClick:H,children:n})]}):v.Ru.get("queue.next-up")}),(0,E.jsx)(q,{spec:L,children:(0,E.jsx)(y.pZ,{value:"next-up",children:(0,E.jsx)(Ue,{ariaLabel:v.Ru.get("queue.next-up"),tracks:a,rowNumberOffset:1+((null==s?void 0:s.length)||0),contextUri:"spotify:app:queue:NextUp",currentlyPlayingContextUri:i,section:A.$.NextUp,usePlayContextItem:Z})})})]}),(0,E.jsx)(R.p,{itemCount:(null==s?void 0:s.length)||0,isOpen:$,onClose:z,onConfirm:G})]})},Le=n(75361);const Me=function(){return(0,r.U)()?(0,E.jsx)(a.$,{to:"/history"}):(0,E.jsx)(Le.U,{children:(0,E.jsx)(t.Suspense,{fallback:null,children:(0,E.jsx)(Fe,{})})})}},27679:(e,i,n)=>{n.d(i,{a:()=>t});var t=function(e){var i;return(null==e||null===(i=e.linked_from)||void 0===i?void 0:i.uri)||e.uri}}}]);
=======
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7521],{81952:(e,t,i)=>{i.d(t,{I:()=>A});var s=i(80552),n=i(50959),a=i(85648),r=(i(46758),i(53321),i(45205),i(27082),i(86277),i(2836),i(82187)),l=i.n(r),u=i(75802),o=i(69736),c=i(87025),d=i(80859),m=i(20580),x=i(49857),h=i(2800),p=i(76981);var g=i(6807),y=i(14892);const f="main-topBar-contentArea",j="queue-tabBar-headerIsCentered",b="queue-tabBar-headerItem",v="queue-tabBar-moreButton",k="queue-tabBar-moreButtonActive",C="yxf_6IsQEmHjijEBUMTP",N="queue-tabBar-active",I="queue-tabBar-headerItemLink",w="queue-tabBar-header",P="queue-tabBar-chevron";var S=i(11527);const U=({items:e,activeItemId:t})=>(0,S.jsx)(g.v,{children:e.map((e=>e.disabled?(0,S.jsx)(y.s,{disabled:!0,role:"menuitemradio",className:C,onClick:e.handleClick,children:e.title},e.uri):(0,S.jsx)(y.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===t,className:({isActive:e})=>l()(C,{[N]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var E=i(64634);const q=(0,n.memo)((function({isCentered:e,links:t,landmarkLabel:i,className:s}){const r=(0,n.useRef)(null),[g,y]=(0,n.useState)([]),[C,q]=(0,n.useState)(0),[O,F]=(0,n.useState)([]),R=function(){const[e,t]=(0,n.useState)(window.innerWidth),{scrollNodeChildRef:i}=(0,n.useContext)(h.VX),s=(0,x.y1)((e=>{e?.width&&t(e.width)}),250);return(0,p.y)({refOrElement:i,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:L}=(0,u.TH)(),Q=t.find((e=>e.to===L));return(0,n.useEffect)((()=>{r.current&&q(r.current.clientWidth)}),[R]),(0,n.useEffect)((()=>{if(!r.current)return;const e=Array.from(r.current.children).map((e=>e.clientWidth));y(e)}),[t]),(0,n.useEffect)((()=>{if(!r.current)return;if(g.slice(0,-1).reduce(((e,t)=>e+t),0)<=C)return void F([]);const e=g.reduce(((e,t)=>e>t?e:t),0),t=[];let i=e;g.forEach(((e,s)=>{C>=i+e?i+=e:t.push(s)})),F(t)}),[C,g]),(0,S.jsx)("nav",{className:l()(s,f),"aria-label":i,children:(0,S.jsxs)("ul",{className:e?j:w,ref:r,children:[t.filter(((e,t)=>!O.includes(t))).map((e=>{const t=e?.render??(e=>e);return(0,S.jsx)(n.Fragment,{children:t((0,S.jsx)("li",{className:b,children:e.disabled?(0,S.jsx)("div",{className:I,children:(0,S.jsx)(o.x,{variant:"bodySmallBold",children:e.title})}):(0,S.jsx)(E.O,{end:!0,className:({isActive:e})=>l()(I,{[N]:e}),to:e.to,onClick:e.handleClick,children:(0,S.jsx)(o.x,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),O.length||0===g.length?(0,S.jsx)("li",{className:b,children:(0,S.jsx)(m.xV,{renderInline:!0,menu:(0,S.jsx)(U,{items:t.filter(((e,t)=>O.includes(t))),activeItemId:Q?.itemId}),children:(e,t,i)=>(0,S.jsxs)("button",{className:l()(v,{[k]:Q}),type:"button",onClick:t,ref:i,children:[(0,S.jsx)(o.x,{variant:"bodySmallBold",children:Q?Q.title:a.ag.get("more")}),e?(0,S.jsx)(c.U,{size:"small",className:P,"aria-hidden":"true"}):(0,S.jsx)(d.i,{size:"small",className:P,"aria-hidden":"true"})]})})}):null]})})}));var O=i(8885),F=i(64847),R=i(98271);const L="queue-tabBar-nav",Q=()=>{const e=(0,R.Y)(),t=(0,n.useCallback)((e=>(0,S.jsx)(F.v,{placement:"bottomEnd",arrow:"topStart",title:a.ag.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),i=(0,n.useMemo)((()=>[{title:a.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:t,disabled:e},{title:a.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,t]);return(0,S.jsx)(O.w,{children:(0,S.jsx)(q,{className:L,links:i})})},A=({children:e})=>{const t=(0,s.nF)();return(0,S.jsxs)("section",{className:"contentSpacing",children:[e,t&&(0,S.jsx)(Q,{})]})}},73040:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var s=i(50959),n=i(82187),a=i.n(n),r=i(69736),l=i(15304),u=i(75095),o=i(85648),c=i(41038),d=i(60046),m=i(37523),x=i(45438),h=i(8570),p=i(22527),g=i(80626),y=i(6370),f=i(11527);const j=({onClick:e})=>(0,f.jsx)(y.P,{onClick:e,size:"small",children:o.ag.get("queue.clear-queue")});var b=i(16626),v=i(94853),k=i(91295),C=i(36199),N=i(39131),I=i(13734),w=i(17162),P=i(98692),S=i(82857),U=i(58912),E=i(84573);const q=s.memo((function({tracks:e,ariaLabel:t,contextUri:i,currentlyPlayingContextUri:n=i,rowNumberOffset:a=0,section:r,usePlayContextItem:l}){const u=(0,I.o)(),c=(0,h.g)(),d=(0,s.useCallback)(((e,t)=>{u({intent:"remove-from-queue",type:"click"}),c.removeFromQueue(e).then(t)}),[c,u]),m=(0,s.useCallback)(((e,t)=>{if((0,P.iw)(e)){const s=(0,U.X)(e.show?.images,{desiredSize:40});return(0,f.jsx)(E.p,{index:t,rowNumberOffset:a,imgUrl:s?.url||"",uri:(0,w.$)(e),uid:e.uid??e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.show.name,uri:e.show.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:E.j.EPISODE,section:r,usePlayContextItem:l,isAutoPlay:"autoplay"===e.provider},`${t}${a}${e.uid}`)}if((0,P.G7)(e)){const s=(0,U.X)(e.images||void 0,{desiredSize:40});return(0,f.jsx)(E.p,{index:t,rowNumberOffset:a,imgUrl:s?.url||"",uri:(0,w.$)(e),uid:e.uid??e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:e.name,artists:[],album:{name:e.book.name,uri:e.book.uri},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:E.j.CHAPTER,section:r,usePlayContextItem:l,isAutoPlay:"autoplay"===e.provider},`${t}${a}${e.uid}`)}if((0,P.k6)(e)){const s=(0,U.X)(e.images||void 0,{desiredSize:40});return(0,f.jsx)(E.p,{index:t,rowNumberOffset:a,imgUrl:s?.url||"",uri:e.uri,uid:e.uid??e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:e.advertiser??e.title??o.ag.get("ad-formats.advertisement"),artists:[],album:{name:"",uri:""},isExplicit:!1,isPlayable:!0,isMOGEFRestricted:!1,type:E.j.AD,section:r,usePlayContextItem:l,isAutoPlay:"autoplay"===e.provider,isEnhanced:!1},`${t}${a}${e.uid}`)}if((0,P.G_)(e)||(0,P.RB)(e)){const s=(0,U.X)(e?.album?.images,{desiredSize:40}),u=e.type===S.p.TRACK?e:null;return(0,f.jsx)(E.p,{index:t,rowNumberOffset:a,imgUrl:s?.url||"",uri:(0,w.$)(e),uid:e.uid??e.uri,contextUri:i,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:u?.isExplicit??!1,isPlayable:!0,isMOGEFRestricted:u?.is19PlusOnly??!1,type:u?.isLocal?E.j.LOCAL:E.j.TRACK,section:r,usePlayContextItem:l,isAutoPlay:"autoplay"===e.provider,isEnhanced:(0,N.$)(e),trackContextUri:e.metadata?.context_uri??n},`${t}${a}${e.uid}`)}return(0,f.jsx)(C.Lb,{height:`${C.dN}px`})}),[a,i,n,r,l]),x=(0,s.useMemo)((()=>[C.QD.INDEX,C.QD.TITLE_AND_ARTIST,C.QD.ALBUM,C.QD.DURATION]),[]),p=(0,s.useCallback)((e=>({uri:e.uri,uid:e.uid??e.uri})),[]);return(0,f.jsx)(C.Pv,{ariaLabel:t,tracks:e,nrTracks:e.length,onRemove:d,renderRow:m,resolveItem:p,columns:x})}));var O=i(25598);const F="queue-queuePage-queuePage",R="queue-queuePage-header",L="queue-queuePage-subHeader",Q="queue-queuePage-nextFrom",A="queue-queuePage-nextInQueue",D=()=>{const{uri:e,description:t,current:i,nextUp:n,queued:y,isEmpty:C,hasQueuedTracks:N,hasNextTracks:I}=(0,O.y)(),{spec:w,logger:P,UBIFragment:S}=(0,g.fU)(l.z,{data:{identifier:u.Wg.NOWPLAYING_QUEUE,uri:e??""}}),U=(0,s.useMemo)((()=>w.nowPlayingSectionFactory()),[w]),E=(0,s.useMemo)((()=>w.nextInQueueSectionFactory()),[w]),D=(0,s.useMemo)((()=>w.nextFromSectionFactory()),[w]),M=(0,h.g)(),[$,T]=(0,s.useState)(!1),B=(0,s.useCallback)((()=>{T(!1)}),[T]),_=(0,s.useCallback)((()=>{M.clearQueue(),T(!1)}),[M]),G=(0,s.useCallback)((()=>{let e;const t=E.clearQueueButtonFactory();y.length>0&&(e=t.hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:y.length}),P.logInteraction(e))}),[P,E,y.length]),z=(0,s.useCallback)((async()=>{G(),T(!0)}),[G]),{usePlayContextItem:H}=(0,p.n)({uri:e??""},{featureIdentifier:"queue"}),W=(0,s.useCallback)((async()=>{if(!I)return;const t=w.nextFromSectionFactory().queueContextLinkFactory().hitUiNavigate({destination:e??""});P.logInteraction(t)}),[I,P,w,e]);return C?(0,f.jsx)(v.Q,{}):(0,f.jsxs)("div",{className:F,children:[(0,f.jsx)(c.$,{children:o.ag.get("queue.page-title")}),(0,f.jsx)(S,{spec:w,children:(0,f.jsx)(m.A,{className:R,emptyStateComponent:(0,f.jsx)(r.x,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:R,children:o.ag.get("playback-control.queue")})})}),i&&e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.x,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",className:L,children:o.ag.get("queue.now-playing")}),(0,f.jsx)(S,{spec:U,children:(0,f.jsx)(x.JL,{value:"now-playing",children:(0,f.jsx)(q,{ariaLabel:o.ag.get("queue.now-playing"),tracks:[i],contextUri:e,section:k.h.NowPlaying,usePlayContextItem:H})})})]}),N&&e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:a()(A,L),children:[(0,f.jsx)(r.x,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",children:o.ag.get("queue.next-in-queue")}),N&&(0,f.jsx)(j,{onClick:z})]}),(0,f.jsx)(S,{spec:E,children:(0,f.jsx)(x.JL,{value:"next-in-queue",children:(0,f.jsx)(q,{ariaLabel:o.ag.get("queue.next-in-queue"),tracks:y,rowNumberOffset:1,contextUri:"spotify:app:queue:NextInQueue",currentlyPlayingContextUri:e,section:k.h.NextInQueue,usePlayContextItem:H})})})]}),I&&e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.x,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",className:L,children:t&&!(0,O.X)(i)?(0,f.jsxs)("span",{className:"standalone-ellipsis-one-line",children:[o.ag.get("queue.next-from")," ",(0,f.jsx)(d.Link,{className:Q,to:e,onClick:W,children:t})]}):o.ag.get("queue.next-up")}),(0,f.jsx)(S,{spec:D,children:(0,f.jsx)(x.JL,{value:"next-up",children:(0,f.jsx)(q,{ariaLabel:o.ag.get("queue.next-up"),tracks:n,rowNumberOffset:1+(y?.length||0),contextUri:"spotify:app:queue:NextUp",currentlyPlayingContextUri:e,section:k.h.NextUp,usePlayContextItem:H})})})]}),(0,f.jsx)(b.$,{itemCount:y?.length||0,isOpen:$,onClose:B,onConfirm:_})]})};var M=i(81952),$=i(98271),T=i(96989);const B=()=>(0,$.Y)()?(0,f.jsx)(T.InstrumentedRedirect,{to:"/history"}):(0,f.jsx)(M.I,{children:(0,f.jsx)(s.Suspense,{fallback:null,children:(0,f.jsx)(D,{})})})}}]);
>>>>>>> origin/master
//# sourceMappingURL=xpui-routes-queue-page.js.map