<<<<<<< HEAD
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3838],{83526:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>ie,REDIRECT_BASE:()=>te,default:()=>le});var i=n(66569),l=(n(59208),n(60989),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(46825),n(17635)),o=n(46600),r=n(63259),u=n(537),a=n(30758),s=n(97500),d=n.n(s),c=n(44464),v=n(8539),p=n(3356),m=n(50778),h=function(e,t){var n,i=new Intl.DateTimeFormat;return e.build().withHost(m.LG).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1,clientTimezone:null!==(n=i.resolvedOptions().timeZone)&&void 0!==n?n:""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()},g=n(58400),f=n(59518),b=n(34204),x=n(82342),y=n(57528),j=(n(67601),n(51338),n(40675),n(79621)),w=n(96331),A=n(18520),O=n(66932),k=n(64741),_=n(79851),D=n(74460),N=n(86070),I=function(e){var t,n,i=e.image,l=e.color,o=void 0===l?j.gray7:l,r=e.title,u=void 0===i?A.K.SMALL:A.K.DEFAULT,a=null!==(t=null==i||null===(n=i.custom)||void 0===n||null===(n=n.sizes)||void 0===n?void 0:n.flatMap((function(e){return e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]})))&&void 0!==t?t:null!=i&&i.uri?[{url:null==i?void 0:i.uri}]:[];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(A.z,{backgroundImages:a,backgroundColor:o,size:u,children:[(0,N.jsx)(k.h,{children:r?(0,N.jsx)(_.X,{text:r}):null}),(0,N.jsx)(O.Y,{children:r?(0,N.jsx)(D.mm,{children:r}):null})]}),(0,N.jsx)(w.f,{color:o})]})},R=(n(83603),n(76133),n(96839)),C=n(42931),P=(n(2944),n(55599),n(20427),n(23703)),E=n(54168),S=function(e){return"number"==typeof e?new Date(1e3*e).toISOString():null};var M=function(e,t,n){var i,l,o,r,u,a;if(void 0===e.id)return null;var s=t.map((function(e,t){return function(e,t){var n,i,l,o,r,u,a,s,d,c,v,p,m,h,g,f,b,x=null===(n=e.component)||void 0===n?void 0:n.id,y=e.id;if(void 0===x||void 0===y)return null;var j,w=null===(i=e.events)||void 0===i||null===(i=i.click)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.uri,A=null===(l=e.images)||void 0===l||null===(l=l.main)||void 0===l?void 0:l.uri,O=A?[{url:A}]:[];switch(x){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===w?null:(0,N.jsx)(P.U,{uri:w,name:null!==(o=null===(r=e.text)||void 0===r?void 0:r.title)&&void 0!==o?o:"",images:O,showImages:O,description:null!==(u=null!==(a=null===(s=e.text)||void 0===s?void 0:s.description)&&void 0!==a?a:null===(d=e.text)||void 0===d?void 0:d.subtitle)&&void 0!==u?u:"",durationMilliseconds:(j=null===(c=e.custom)||void 0===c?void 0:c.duration,"number"==typeof j?j:0),releaseDate:S(null===(v=e.custom)||void 0===v?void 0:v.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},w);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===w?null:(0,N.jsx)(E.B,{uri:w,name:null!==(p=null===(m=e.text)||void 0===m?void 0:m.title)&&void 0!==p?p:"",images:O,description:null!==(h=null===(g=e.text)||void 0===g?void 0:g.description)&&void 0!==h?h:"",authorName:null!==(f=null===(b=e.text)||void 0===b?void 0:b.subtitle)&&void 0!==f?f:"",index:t},w);default:return null}}(e,t)})).flatMap((function(e){return e?[e]:[]}));if(0===s.length)return null;var d=null===(i=(0,R.o_)(null!==(l=null===(o=e.events)||void 0===o||null===(o=o.click)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.uri)&&void 0!==l?l:""))||void 0===i?void 0:i.toURLPath(!0);return(0,N.jsx)(C.p,{title:null!==(r=null===(u=e.text)||void 0===u?void 0:u.title)&&void 0!==r?r:"",total:s.length,seeAllUri:d,index:n,id:e.id,seeAllLabel:null===(a=e.text)||void 0===a?void 0:a.accessory,children:s})},z=function(e){var t=function(e){var t=Array(),n=void 0,i=Array();return e.forEach((function(e){var l;if("culturalmoments:sectionHeaderWithAction"===(null===(l=e.component)||void 0===l?void 0:l.id))n&&0!==i.length&&t.push({heading:n,components:i}),n=e,i=Array();else if(n){var o,r,u;"culturalmoments:carousel"===(null===(o=e.component)||void 0===o?void 0:o.id)||"glue2:carousel"===(null===(r=e.component)||void 0===r?void 0:r.id)?null===(u=e.children)||void 0===u||u.forEach((function(e){i.push(e)})):i.push(e)}})),n&&0!==i.length&&t.push({heading:n,components:i}),t}(e);return(0,N.jsx)(N.Fragment,{children:t.map((function(e,t){return M(e.heading,e.components,t)}))})},T=n(9495),F=n(58184),H=n(67264),B=n(48873),L=n(79464),U=n(69798),V=n(80047),Z=n(17380);const Q="MT6jAR25XYfoarcSqHDd",W="IYZA3J2VTMydirxq_bdg",Y="t6RJK1eND2uPmFYOi32l";var q=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(q||{}),K=function(e){var t=e.spec,n=v.Ru.getLocaleForTranslation(),i=(0,L.s)(),l=(0,U.t)(t),o=function(e){if(e===q.ANDROID){var n=t.googleBadgeFactory().hitNavigateToWebviewUri({destination:e});i.logInteraction(n)}else{var l=t.appleBadgeFactory().hitNavigateToWebviewUri({destination:e});i.logInteraction(l)}};return(0,N.jsxs)(T.a,{variant:"tinted",style:{width:600},ref:l,children:[(0,N.jsx)(F.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:H.v4},children:v.Ru.get("web-player.cultural-moments.unsupportedHeading")}),(0,N.jsx)(F.E,{as:"p",variant:"bodySmall",style:{marginBottom:H.CD},children:v.Ru.get("web-player.cultural-moments.unsupportedDescription")}),(0,N.jsxs)("div",{className:d()(Y),children:[(0,N.jsx)(V.A,{to:q.IOS,target:"_blank",onClick:function(){return o(q.IOS)},children:(0,N.jsx)("img",{src:(0,B.b)((0,Z.f)(n)),alt:v.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:Q})}),(0,N.jsx)(V.A,{to:q.ANDROID,target:"_blank",onClick:function(){return o(q.ANDROID)},children:(0,N.jsx)("img",{src:(0,B.b)((0,Z.A)(n)),alt:v.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:d()(Q,W)})})]})]})};const J="B9Q1L66F7wl4eUMgp4Lg",X="gtqpWbwIV4PTEp8Q0ZW4",G="edYsLe1QCBdzPglEiROZ";const $=function(e){var t,n,i,l,o,r,u=e.uri,s=e.id,m=(0,f.Z)(h,[s]),j=m.data,w=m.error,A=m.loading,O=(0,g.r)(c.j,{data:{identifier:u,uri:u}}),k=O.spec,_=O.UBIFragment,D=(0,a.useMemo)((function(){return k.shelvesFactory()}),[k]),R=(0,a.useMemo)((function(){return k.mobilePromptFactory()}),[k]),C=null==j||null===(t=j.body.hubViewData)||void 0===t?void 0:t.body,P=null==j||null===(n=j.body.hubViewData)||void 0===n?void 0:n.header;if(null===j||void 0===C||void 0===P||A||null!==w)return(0,N.jsx)(y.A,{hasError:null!==w,errorMessage:v.Ru.get("error.generic")});var E=null===(i=j.body.hubViewData)||void 0===i?void 0:i.title,S=null==P||null===(l=P.text)||void 0===l?void 0:l.title;return(0,N.jsxs)(_,{spec:k,children:[(0,N.jsx)(x.Q,{children:null!=E?E:""}),S?(0,N.jsx)("div",{className:J,children:(0,N.jsx)(I,{title:null==P||null===(o=P.text)||void 0===o?void 0:o.title,image:null===(r=P.images)||void 0===r?void 0:r.background})}):null,(0,N.jsx)(_,{spec:D,children:(0,N.jsxs)("div",{className:G,children:[S&&(0,N.jsx)(b.K,{}),(0,N.jsx)("div",{className:d()("contentSpacing",X),children:(0,N.jsxs)(p._,{children:[(0,N.jsx)(K,{spec:R}),C?z(C):null]})})]})})]})};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var te="https://accounts.spotify.com/login",ne=function(){var e=window.location.href;return window.location.href="".concat(te,"?continue=").concat(encodeURIComponent(e)),null},ie=function(e){var t=(0,r.V)(),n=(0,l.NC)(o.Be8,{loadingValue:!1});return t?(0,N.jsx)(ne,{}):n?(0,N.jsx)($,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):(0,N.jsx)(u.$,{to:"/"})};const le=ie},17380:(e,t,n)=>{n.d(t,{A:()=>r,f:()=>o});n(82368);var i=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],l=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],o=function(e){var t=i.includes(e)?e:"int";return"images/download-badges/apple/".concat(t,".svg")},r=function(e){var t=l.includes(e)?e:"int";return"images/download-badges/google/".concat(t,".svg")}}}]);
=======
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8420],{87355:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>q,REDIRECT_BASE:()=>X,default:()=>z});var s=n(10226),i=n(17676),l=n(50959),r=n(82187),o=n.n(r),a=n(39371),c=n(85648),u=n(80936),d=n(67204),m=n(80626),p=n(39505),g=n(98716),h=n(97922),x=n(81639),f=n(16118),b=n(11527);const j=({image:e,color:t=p.k77,title:n})=>{const s=void 0===e?h.fR.SMALL:h.fR.DEFAULT,i=e?.uri?[{url:e.uri}]:[];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.gF,{backgroundImages:i,backgroundColor:t,size:s,children:[(0,b.jsx)(x.W,{children:n?(0,b.jsx)(f.i,{text:n}):null}),(0,b.jsx)(h.sP,{children:n?(0,b.jsx)(h.xd,{children:n}):null})]}),(0,b.jsx)(g.H,{color:t})]})};n(46758),n(27082),n(86277),n(55115);var y=n(11317),v=n(36255),w=n(20109),D=n(87964);const A=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const I=(e,t,n)=>{if(void 0===e.id)return null;const s=t.map(((e,t)=>function(e,t){const n=e.component?.id,s=e.id;if(void 0===n||void 0===s)return null;const i=e.events?.click?.data?.uri,l=e.images?.main?.uri,r=l?[{url:l}]:[];switch(n){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===i?null:(0,b.jsx)(w.B,{uri:i,name:e.text?.title??"",images:r,showImages:r,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(o=e.custom?.duration,"number"==typeof o?o:0),releaseDate:A(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},i);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===i?null:(0,b.jsx)(D.Z,{uri:i,name:e.text?.title??"",images:r,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},i);default:return null}var o}(e,t))).flatMap((e=>e?[e]:[]));if(0===s.length)return null;const i=(0,y.EC)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,b.jsx)(v.q,{title:e.text?.title??"",total:s.length,seeAllUri:i,index:n,id:e.id,seeAllLabel:e.text?.accessory,children:s})},R=e=>{const t=(e=>{const t=Array();let n,s=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(n&&0!==s.length&&t.push({heading:n,components:s}),n=e,s=Array()):n&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{s.push(e)})):s.push(e))})),n&&0!==s.length&&t.push({heading:n,components:s}),t})(e);return(0,b.jsx)(b.Fragment,{children:t.map(((e,t)=>I(e.heading,e.components,t)))})};var C=n(68989),k=n(69736),N=n(36353),S=n(65376),O=n(60046),B=n(4417);const F="pgo3GiB844kDFl6Qbo05",E="RhOeeOpI4AOwx0QAVneD",M="XSE6HhcsNgvOjU0xmuTN";var U=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(U||{});const W=({spec:e})=>{const t=c.ag.getLocaleForTranslation(),n=(0,m.$P)(),s=(0,m.Wi)(e),i=t=>{if(t===U.ANDROID){const s=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}else{const s=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}};return(0,b.jsxs)(C.x,{variant:"tinted",style:{width:600},ref:s,children:[(0,b.jsx)(k.x,{as:"p",variant:"bodyMediumBold",style:{marginBottom:N.dl},children:c.ag.get("web-player.cultural-moments.unsupportedHeading")}),(0,b.jsx)(k.x,{as:"p",variant:"bodySmall",style:{marginBottom:N.o7},children:c.ag.get("web-player.cultural-moments.unsupportedDescription")}),(0,b.jsxs)("div",{className:o()(M),children:[(0,b.jsx)(O.default,{to:U.IOS,target:"_blank",onClick:()=>i(U.IOS),children:(0,b.jsx)("img",{src:(0,S.g)((0,B.b)(t)),alt:c.ag.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:F})}),(0,b.jsx)(O.default,{to:U.ANDROID,target:"_blank",onClick:()=>i(U.ANDROID),children:(0,b.jsx)("img",{src:(0,S.g)((0,B.V)(t)),alt:c.ag.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:o()(F,E)})})]})]})};var L=n(24676),P=n(37335),T=n(41038),_=n(91643);const H="BnW4ga5mfG9DYWXeADCL",V="RL_W31RCuHFbSTBORR6w",$="xfR1I0mMRPPSCr9FUSJs",G=({uri:e,id:t})=>{const{data:n,error:s,loading:i}=(0,L.J)(d.cW.D,[t]),{spec:r,UBIFragment:p}=(0,m.fU)(a.Y,{data:{identifier:e,uri:e}}),g=(0,l.useMemo)((()=>r.shelvesFactory()),[r]),h=(0,l.useMemo)((()=>r.mobilePromptFactory()),[r]),x=n?.body.hubViewData?.body,f=n?.body.hubViewData?.header;if(null===n||void 0===x||void 0===f||i||null!==s)return(0,b.jsx)(_.h,{hasError:null!==s,errorMessage:c.ag.get("error.generic")});const y=n.body.hubViewData?.title,v=f?.text?.title;return(0,b.jsxs)(p,{spec:r,children:[(0,b.jsx)(T.$,{children:y??""}),v?(0,b.jsx)("div",{className:H,children:(0,b.jsx)(j,{title:f?.text?.title,image:f.images?.background})}):null,(0,b.jsx)(p,{spec:g,children:(0,b.jsxs)("div",{className:$,children:[v&&(0,b.jsx)(P.I,{}),(0,b.jsx)("div",{className:o()("contentSpacing",V),children:(0,b.jsxs)(u.C,{children:[(0,b.jsx)(W,{spec:h}),x?R(x):null]})})]})})]})};var J=n(50540),Q=n(96989);const X="https://accounts.spotify.com/login",Y=()=>{const e=window.location.href;return window.location.href=`${X}?continue=${encodeURIComponent(e)}`,null},q=e=>{const t=(0,J.g)(),n=(0,s.W6)(i.B4B,{loadingValue:!1});return t?(0,b.jsx)(Y,{}):n?(0,b.jsx)(G,{...e}):(0,b.jsx)(Q.InstrumentedRedirect,{to:"/"})},z=q}}]);
>>>>>>> origin/master
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map