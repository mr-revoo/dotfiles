<<<<<<< HEAD
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[42],{79586:(e,t,n)=>{n.d(t,{O:()=>p});var i=n(66569),r=n(58184),l=n(95477),o=n(86001),a=n(17893),s=n(92937),d=n(89515),c=n(86070),u=(0,i.A)((0,i.A)((0,i.A)({},o.E.MEDIUM,"titleMedium"),o.E.LARGE,"titleMedium"),o.E.XLARGE,"headlineMedium"),v=(0,i.A)((0,i.A)({},o.E.LARGE,"bodyMedium"),o.E.XLARGE,"bodyMediumBold"),b=(0,i.A)((0,i.A)({},o.E.LARGE,"bodySmall"),o.E.XLARGE,"bodySmall"),p=function(e){var t=e.title,n=e.subtitle,i=e.body,o=e.footnote,p=e.buttonText,h=e.callToActionClicked,m=(0,a.y)(),x=m&&u[m]||"titleSmall",f=m&&v[m]||"bodySmall",E=m&&b[m]||"marginal";return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.E,{as:"h1",variant:x,semanticColor:"textBase",className:d.A.title,children:t}),(0,c.jsx)(r.E,{as:"h2",variant:f,semanticColor:"textSubdued",className:d.A.subtitle,children:n}),i,h&&(0,c.jsx)(l.$,{className:d.A.button,colorSet:"invertedLight",onClick:h,"data-testid":s.OL,children:p}),o&&(0,c.jsx)(r.E,{as:"p",variant:E,semanticColor:"textSubdued",className:d.A.note,children:o})]})}},87566:(e,t,n)=>{n.d(t,{d:()=>A});var i=n(66569),r=(n(45803),n(97500)),l=n.n(r),o=n(8539),a=n(61270),s=n(82342),d=n(86001),c=n(17893),u=n(79586),v=n(92937);const b="gJmoZouW_m4rUBRFHmu7",p="r4j9hiYJ8q0SQpEsgvSh";var h=n(86070);const m=function(e){return(0,h.jsx)("div",{className:b,children:(0,h.jsx)("div",{className:p,children:(0,h.jsx)("svg",{width:e.iconSize,height:e.iconSize,fill:"currentColor",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M33 31.998v-23h-2v23H8v2h23v23h2v-23h23v-2z"})})})})};var x=n(89515),f={name:"",username:"",image_url:null,hash:""},E=(0,i.A)((0,i.A)((0,i.A)({},d.E.MEDIUM,164),d.E.LARGE,164),d.E.XLARGE,270),g=function(e,t){return(0,h.jsx)(a.e,{label:o.Ru.get("web-player.blend.invite.button-title"),images:[],width:e,userIconSize:"xxlarge",customPlaceholder:(0,h.jsx)(m,{iconSize:t}),piled:!0})},A=function(e){var t,n,i,r,d=e.invitation,b=e.callToActionClicked,p=e.breakpointEltRef,m=!(null===(t=d.members)||void 0===t||!t.length),A=m&&(null===(n=d.members)||void 0===n?void 0:n[0])||d.recipient||f,j=m&&d.recipient||null,y=(0,c.y)(),w=y&&E[y]||128,O=Math.round(.475*w);return(0,h.jsxs)("div",{className:l()(x.A.container,x.A.TwoUsers),"data-testid":v.xg,ref:p,children:[(0,h.jsx)(s.Q,{children:o.Ru.get("blend.invite.page-title")}),(0,h.jsxs)("div",{className:x.A.facepile,children:[(0,h.jsx)(a.e,{label:A.name,images:[{url:null!==(i=A.image_url)&&void 0!==i?i:"",width:w,height:w}],width:w,userIconSize:"xxlarge"}),j?(0,h.jsx)(a.e,{label:j.name,images:[{url:null!==(r=j.image_url)&&void 0!==r?r:"",width:w,height:w}],width:w,userIconSize:"xxlarge",piled:!0}):g(w,O)]}),(0,h.jsx)(u.O,{title:d.title,subtitle:d.subtitle,footnote:d.footnote,buttonText:d.button_text,callToActionClicked:b})]})}},70099:(e,t,n)=>{n.d(t,{A:()=>i});n(60989);const i=function(){var e=window.location.href;return window.location.href="".concat("https://accounts.spotify.com/login","?continue=").concat(encodeURIComponent(e)),null}},92937:(e,t,n)=>{n.d(t,{OL:()=>a,VE:()=>i,ev:()=>l,rg:()=>o,xg:()=>r});var i="blend-deleted-container",r="blend-two-user-container",l="blend-multi-user-container",o="blend-full-container",a="blend-cta-button"},81063:(e,t,n)=>{n.d(t,{B6:()=>a,OE:()=>o,YW:()=>l,pd:()=>r});var i=n(50778),r=function(e){return e.PENDING_INVITATION="PENDING_INVITATION",e.READY_TO_JOIN_EMPTY_BLEND="READY_TO_JOIN_EMPTY_BLEND",e.READY_TO_JOIN_ALREADY_CREATED_BLEND="READY_TO_JOIN_ALREADY_CREATED_BLEND",e.MAX_MEMBERS="MAX_MEMBERS",e.ALREADY_JOINED="ALREADY_JOINED",e.DELETED="DELETED",e}({}),l=function(e,t){return e.build().withHost(i.t2).withPath("/v3/view-invitation/".concat(encodeURIComponent(t))).withEndpointIdentifier("v3/view-invitation/{invitationId}").withLocale(e.locale).send()},o=function(e,t){return e.build().withHost(i.t2).withMethod("PUT").withPath("/v2/join/".concat(encodeURIComponent(t))).withEndpointIdentifier("join/{invitationId}").send()},a=function(e){return e.build().withHost(i.t2).withMethod("POST").withPath("/v1/generate").withEndpointIdentifier("v1/generate").send()}},94513:(e,t,n)=>{n.d(t,{G:()=>o});var i=n(66569),r=n(86001),l=n(32028),o=function(){return(0,l.x)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},r.E.SMALL,536),r.E.MEDIUM,792),r.E.LARGE,1048),r.E.XLARGE,1688))}},91105:(e,t,n)=>{n.d(t,{y:()=>p});var i=n(29969),r=n(52618),l=n.n(r),o=(n(40313),n(24847),n(30758)),a=n(93240),s=n(41978),d=n(8539),c=n(82933),u=n(7683),v=n(68688),b=n(81063);function p(e,t){var n=(0,s.d4)(v.Ht).user,r=(0,a.dh)().enqueueSnackbar,p=(0,c.A9)(),h=(0,o.useCallback)((0,i.A)(l().mark((function e(){var t,i,r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.B6)(p);case 2:if(o=e.sent,null===(t=o.body)||void 0===t?void 0:t.invite){e.next=6;break}throw new Error("unable to generate invite link");case 6:return a=null!=n&&n.display_name?d.Ru.get("blend.invite.body-with-name",n.display_name,null===(i=o.body)||void 0===i?void 0:i.invite):d.Ru.get("blend.invite.body-without-name",null===(r=o.body)||void 0===r?void 0:r.invite),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),[null==n?void 0:n.display_name,p]);return(0,i.A)(l().mark((function n(){var i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,u.l)(h());case 3:r(d.Ru.get("feedback.link-copied")),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r(d.Ru.get("error.generic"));case 9:e&&t&&(i=e.inviteButtonFactory().hitCopyToClipboard(),t.logInteraction(i));case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))}},66113:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(46825);var i=n(66569),r=n(30758),l=n(41978),o=n(25762),a=n(8539),s=n(82342),d=n(68688),c=n(17893),u=n(58400),v=n(75610),b=n(59943),p=n(81063),h=n(94513),m=n(91105),x=n(87566),f=n(70099),E=n(86070);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={page_type:p.pd.PENDING_INVITATION,get title(){return a.Ru.get("web-player.blend.group-invite.header")},get subtitle(){return a.Ru.get("web-player.blend.duo-invite.description")},get button_text(){return a.Ru.get("web-player.blend.invite.button-title")},footnote:null,members:[],recipient:null,members_title:null,playlist_uri:null};const y=function(){var e,t=(0,u.r)(o.f,{}),n=t.spec,i=t.logger,p=(0,m.y)(n,i),g=(0,h.G)(),y=g.ref,w=g.breakpoint,O=(0,l.d4)(d.Ht).user,_=null!=O&&O.uri?(0,v.v)(null==O?void 0:O.uri):"",R=function(e){return A(A({},j),{},{members:[e],footnote:a.Ru.get("web-player.blend.group-invite.warning")})}({name:(null==O?void 0:O.display_name)||"",username:_,image_url:(null===(e=(0,b.g)(null==O?void 0:O.images))||void 0===e?void 0:e.url)||null,hash:""});return O?(0,E.jsxs)(r.Suspense,{fallback:null,children:[(0,E.jsx)(s.Q,{children:a.Ru.get("web-player.blend.invite.page-title")}),(0,E.jsx)(c.o.Provider,{value:w,children:(0,E.jsx)(x.d,{invitation:R,callToActionClicked:p,breakpointEltRef:y})})]}):(0,E.jsx)(f.A,{})}},96952:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var i=n(30758),r=n(41978),l=n(33165),o=n(68688),a=(n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(46825),n(66569)),s=n(64252),d=n(17635),c=n(25762),u=n(96839),v=n(8539),b=n(46600),p=n(17893),h=n(59518),m=n(58400),x=n(11217),f=n(79586),E=n(92937),g=n(89515),A=n(86070),j=function(e){var t=e.invitation,n=e.callToActionClicked,i=e.breakpointEltRef;return(0,A.jsxs)("div",{className:g.A.container,"data-testid":E.rg,ref:i,children:[(0,A.jsx)(x.u,{size:"xxlarge"}),(0,A.jsx)(f.O,{title:t.title,subtitle:t.subtitle,buttonText:t.button_text,footnote:null,callToActionClicked:n})]})},y=n(82342),w=(n(83603),n(45803),n(76133),n(97500)),O=n.n(w),_=n(58184),R=n(61270),I=n(87349),N=n(20610),k=n(80047);const T="HKAYWYmxd5Ie8WSi0a4y",D="i52u_T3b50wraodIaORk",L="xakiNVMlUf6geF67FEgy",P="IRhTesoeIiwswlly0Dvg",C="LNJzE17iskXWmfKAzY4U",M="qzBr7X7cdLUhWdk0r8lL";var S=function(e){var t=e.uri,n=e.imageUrl,i=e.name;return(0,A.jsx)("li",{children:(0,A.jsx)(I.h,{menu:(0,A.jsx)(N.B,{uri:t}),children:(0,A.jsx)(k.N,{to:t,children:(0,A.jsxs)("div",{className:P,children:[(0,A.jsx)(R.e,{images:[{url:n,width:null,height:null}],label:i,width:32,userIconSize:"medium",className:C}),(0,A.jsx)(_.E,{variant:"bodySmallBold",className:"standalone-ellipsis-one-line",semanticColor:"textBase",children:i})]})})})})},Y=function(e){var t=e.members,n=e.headingText,i=e.className;return(0,A.jsxs)("div",{className:O()(T,i),children:[(0,A.jsx)("div",{children:(0,A.jsx)(_.E,{as:"h4",variant:"marginalBold",semanticColor:"textSubdued",className:D,children:n})}),(0,A.jsx)("ul",{className:L,children:t&&t.map((function(e){return(0,A.jsx)(S,{imageUrl:e.image_url||"",name:e.name,uri:(0,u.Qj)(e.username).toURI()},e.username)}))}),(0,A.jsx)("div",{className:M})]})},B=function(e){var t=e.invitation,n=e.callToActionClicked,i=e.breakpointEltRef,r=t.members||[],l=(0,A.jsx)("div",{className:g.A.userListContainer,"data-testid":E.ev,children:(0,A.jsx)(Y,{className:g.A.userList,headingText:t.members_title,members:r})});return(0,A.jsxs)("div",{className:g.A.container,ref:i,children:[(0,A.jsx)(y.Q,{children:v.Ru.get("blend.join.title")}),(0,A.jsx)(f.O,{title:t.title,subtitle:t.subtitle,footnote:t.footnote,body:l,buttonText:t.button_text,callToActionClicked:n})]})},U=n(87566),G=n(57528),z=n(81063),J=n(94513),V=n(91105),X=n(29969),W=n(52618),q=n.n(W),H=(n(40313),n(24847),n(82933)),F=n(82092);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t,n,r,o=e.invitationId,a=(0,l.Zp)(),x=(0,d.NC)(b.CXJ),y=(0,h.Z)(z.YW,[o]),w=y.data,O=y.error,_=y.loading,R=(0,m.r)(c.f,{}),I=R.spec,N=R.logger,k=(0,V.y)(I,N),T=function(e,t,n){var i=(0,F.d)().enqueueSnackbar,r=(0,H.A9)(),o=(0,l.Zp)();return(0,X.A)(q().mark((function l(){var a,s,d;return q().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,z.OE)(r,e);case 3:if(a=l.sent,s=(0,u.o_)(null==a?void 0:a.body.playlist_uri).toURLPath(!0)){l.next=7;break}throw new Error("unable to join");case 7:o(s,{replace:!0}),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(0),i(v.Ru.get("error.request-playlist-failure"));case 13:t&&n&&(d=t.joinButtonFactory().hitCreatePlaylist(),n.logInteraction(d));case 14:case"end":return l.stop()}}),l,null,[[0,10]])})))}(o,I,N),D=(0,J.G)(),L=D.ref,P=D.breakpoint;(0,i.useEffect)((function(){var e;if((null==w||null===(e=w.body)||void 0===e?void 0:e.page_type)===z.pd.ALREADY_JOINED){var t,n=null===(t=(0,u.o_)(null==w?void 0:w.body.playlist_uri))||void 0===t?void 0:t.toURLPath(!0);n&&a(n,{replace:!0})}}),[null==w||null===(t=w.body)||void 0===t?void 0:t.page_type,null==w||null===(n=w.body)||void 0===n?void 0:n.playlist_uri,a]);var C=null===w||!w.body;if(C||_||O)return(0,A.jsx)(G.A,{timeoutInMs:1e3,hasError:!!O||!_&&C,errorMessage:v.Ru.get("error.generic")});var M=(null==w||null===(r=w.body.members)||void 0===r?void 0:r.length)||0,S=x===b.YVK.TWO_USER;switch(null==w?void 0:w.body.page_type){case z.pd.DELETED:return(0,A.jsx)(p.o.Provider,{value:P,children:(0,A.jsxs)("div",{className:g.A.container,ref:L,"data-testid":E.VE,children:[(0,A.jsx)(s.x,{size:"xxlarge"}),(0,A.jsx)(f.O,{title:w.body.title,subtitle:w.body.subtitle,buttonText:w.body.button_text,footnote:w.body.footnote,callToActionClicked:k})]})});case z.pd.ALREADY_JOINED:return(0,A.jsx)(G.A,{hasError:!1,errorMessage:v.Ru.get("error.request-playlist-failure")});case z.pd.READY_TO_JOIN_EMPTY_BLEND:return(0,A.jsx)(p.o.Provider,{value:P,children:(0,A.jsx)(U.d,{invitation:w.body,breakpointEltRef:L,callToActionClicked:T})});case z.pd.READY_TO_JOIN_ALREADY_CREATED_BLEND:return S&&M>=2?(0,A.jsx)(p.o.Provider,{value:P,children:(0,A.jsx)(j,{invitation:Q(Q({},w.body),{},{title:v.Ru.get("blend.link-invialid.header"),subtitle:v.Ru.get("blend.link-invalid.subtitle"),button_text:v.Ru.get("blend.invite.button-title")}),callToActionClicked:k,breakpointEltRef:L})}):(0,A.jsx)(p.o.Provider,{value:P,children:(0,A.jsx)(B,{invitation:w.body,callToActionClicked:T,breakpointEltRef:L})});case z.pd.MAX_MEMBERS:return(0,A.jsx)(p.o.Provider,{value:P,children:(0,A.jsx)(j,{invitation:w.body,callToActionClicked:k,breakpointEltRef:L})});case z.pd.PENDING_INVITATION:return(0,A.jsx)(p.o.Provider,{value:P,children:(0,A.jsx)(U.d,{invitation:w.body,callToActionClicked:k,breakpointEltRef:L})});default:return(0,A.jsx)(G.A,{timeoutInMs:1e3,hasError:!0,errorMessage:v.Ru.get("error.generic")})}},$=n(70099),ee=function(e){var t=e.invitationId;return(0,r.d4)(o.Ht).user?(0,A.jsx)(i.Suspense,{fallback:null,children:(0,A.jsx)(Z,{invitationId:t})}):(0,A.jsx)($.A,{})};const te=(0,i.memo)((function(){var e=(0,l.g)().invitationId,t=void 0===e?"":e;return(0,A.jsx)(ee,{invitationId:t})}))},89515:(e,t,n)=>{n.d(t,{A:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"yMoj4jXSudxZ6BkKxV2E",TwoUsers:"IDgUCqAbkRah6OFywv1q",subtitle:"qmKxO5qV4XmVYfpFpaDA",facepile:"nWMdWl40O8K7HQT8Tagc",title:"csRAeNipsu1camQTMiIU",button:"nxFBywAeAI8Zk2fav3Yj",userList:"lxPLQIPb1VSV3VL18Ke3",userListContainer:"BzMKhmywgyIt6IUjcTGW",note:"DSdKNusLgsMX_iicYCU2"}}}]);
=======
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8123],{77689:(e,t,i)=>{i.d(t,{l:()=>b});var n=i(69736),l=i(3533),a=i(61058),o=i(52187),r=i(41503),s=i(11527);const d={[a.Uo.MEDIUM]:"titleMedium",[a.Uo.LARGE]:"titleMedium",[a.Uo.XLARGE]:"headlineMedium"},c={[a.Uo.LARGE]:"bodyMedium",[a.Uo.XLARGE]:"bodyMediumBold"},u={[a.Uo.LARGE]:"bodySmall",[a.Uo.XLARGE]:"bodySmall"},b=({title:e,subtitle:t,body:i,footnote:b,buttonText:h,callToActionClicked:x})=>{const m=(0,a.jh)(),g=m&&d[m]||"titleSmall",v=m&&c[m]||"bodySmall",E=m&&u[m]||"marginal";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.x,{as:"h1",variant:g,semanticColor:"textBase",className:r.Z.title,children:e}),(0,s.jsx)(n.x,{as:"h2",variant:v,semanticColor:"textSubdued",className:r.Z.subtitle,children:t}),i,x&&(0,s.jsx)(l.D,{className:r.Z.button,colorSet:"invertedLight",onClick:x,"data-testid":o.xd,children:h}),b&&(0,s.jsx)(n.x,{as:"p",variant:E,semanticColor:"textSubdued",className:r.Z.note,children:b})]})}},63978:(e,t,i)=>{i.d(t,{H:()=>p});var n=i(82187),l=i.n(n),a=i(85648),o=i(87608),r=i(41038),s=i(61058),d=i(77689),c=i(52187);const u="NTT5CathoDEMjrmgfv9y",b="WmmNhmwHDNvDxInfukYO";var h=i(11527);const x=e=>(0,h.jsx)("div",{className:u,children:(0,h.jsx)("div",{className:b,children:(0,h.jsx)("svg",{width:e.iconSize,height:e.iconSize,fill:"currentColor",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M33 31.998v-23h-2v23H8v2h23v23h2v-23h23v-2z"})})})});var m=i(41503);const g={name:"",username:"",image_url:null,hash:""},v={[s.Uo.MEDIUM]:164,[s.Uo.LARGE]:164,[s.Uo.XLARGE]:270},E=(e,t)=>(0,h.jsx)(o.q,{label:a.ag.get("web-player.blend.invite.button-title"),images:[],width:e,userIconSize:"xxlarge",customPlaceholder:(0,h.jsx)(x,{iconSize:t}),piled:!0}),p=({invitation:e,callToActionClicked:t,breakpointEltRef:i})=>{const n=!!e.members?.length,u=n&&e.members?.[0]||e.recipient||g,b=n&&e.recipient||null,x=(0,s.jh)(),p=x&&v[x]||128,j=Math.round(.475*p);return(0,h.jsxs)("div",{className:l()(m.Z.container,m.Z.TwoUsers),"data-testid":c.xS,ref:i,children:[(0,h.jsx)(r.$,{children:a.ag.get("blend.invite.page-title")}),(0,h.jsxs)("div",{className:m.Z.facepile,children:[(0,h.jsx)(o.q,{label:u.name,images:[{url:u.image_url??"",width:p,height:p}],width:p,userIconSize:"xxlarge"}),b?(0,h.jsx)(o.q,{label:b.name,images:[{url:b.image_url??"",width:p,height:p}],width:p,userIconSize:"xxlarge",piled:!0}):E(p,j)]}),(0,h.jsx)(d.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,buttonText:e.button_text,callToActionClicked:t})]})}},48806:(e,t,i)=>{i.d(t,{Z:()=>n});const n=()=>{const e=window.location.href;return window.location.href=`https://accounts.spotify.com/login?continue=${encodeURIComponent(e)}`,null}},52187:(e,t,i)=>{i.d(t,{Eh:()=>o,ab:()=>a,e0:()=>n,xS:()=>l,xd:()=>r});const n="blend-deleted-container",l="blend-two-user-container",a="blend-multi-user-container",o="blend-full-container",r="blend-cta-button"},88341:(e,t,i)=>{i.d(t,{Ag:()=>r,V3:()=>l,nW:()=>o,oN:()=>a});var n=i(85101);let l=function(e){return e.PENDING_INVITATION="PENDING_INVITATION",e.READY_TO_JOIN_EMPTY_BLEND="READY_TO_JOIN_EMPTY_BLEND",e.READY_TO_JOIN_ALREADY_CREATED_BLEND="READY_TO_JOIN_ALREADY_CREATED_BLEND",e.MAX_MEMBERS="MAX_MEMBERS",e.ALREADY_JOINED="ALREADY_JOINED",e.DELETED="DELETED",e}({});const a=(e,t)=>e.build().withHost(n.cM).withPath(`/v3/view-invitation/${encodeURIComponent(t)}`).withEndpointIdentifier("v3/view-invitation/{invitationId}").withLocale(e.locale).send(),o=(e,t)=>e.build().withHost(n.cM).withMethod("PUT").withPath(`/v2/join/${encodeURIComponent(t)}`).withEndpointIdentifier("join/{invitationId}").send(),r=e=>e.build().withHost(n.cM).withMethod("POST").withPath("/v1/generate").withEndpointIdentifier("v1/generate").send()},24437:(e,t,i)=>{i.d(t,{j:()=>a});var n=i(45521),l=i(15718);const a=()=>(0,l.D)({[n.U.SMALL]:536,[n.U.MEDIUM]:792,[n.U.LARGE]:1048,[n.U.XLARGE]:1688})},31202:(e,t,i)=>{i.d(t,{i:()=>u});var n=i(50959),l=i(26275),a=i(35869),o=i(85648),r=i(67848),s=i(80120),d=i(87350),c=i(88341);function u(e,t){const{user:i}=(0,a.v9)(d.Gg),{enqueueSnackbar:u}=(0,l.Ds)(),b=(0,r.Ob)(),h=(0,n.useCallback)((async()=>{const e=await(0,c.Ag)(b),t=e.body?.invite;if(!t)throw new Error("unable to generate invite link");return i?.display_name?o.ag.get("blend.invite.body-with-name",i.display_name,e.body?.invite):o.ag.get("blend.invite.body-without-name",e.body?.invite)}),[i?.display_name,b]);return async()=>{try{await(0,s.v)(h()),u(o.ag.get("feedback.link-copied"))}catch{u(o.ag.get("error.generic"))}if(e&&t){const i=e.inviteButtonFactory().hitCopyToClipboard();t.logInteraction(i)}}}},85266:(e,t,i)=>{i.r(t),i.d(t,{default:()=>j});var n=i(50959),l=i(35869),a=i(4116),o=i(85648),r=i(41038),s=i(87350),d=i(61058),c=i(80626),u=i(17532),b=i(58912),h=i(88341),x=i(24437),m=i(31202),g=i(63978),v=i(48806),E=i(11527);const p={page_type:h.V3.PENDING_INVITATION,get title(){return o.ag.get("web-player.blend.group-invite.header")},get subtitle(){return o.ag.get("web-player.blend.duo-invite.description")},get button_text(){return o.ag.get("web-player.blend.invite.button-title")},footnote:null,members:[],recipient:null,members_title:null,playlist_uri:null},j=()=>{const{spec:e,logger:t}=(0,c.fU)(a.L,{}),i=(0,m.i)(e,t),{ref:h,breakpoint:j}=(0,x.j)(),{user:w}=(0,l.v9)(s.Gg),y=w?.uri?(0,u.C)(w?.uri):"",f=(e=>({...p,members:[e],footnote:o.ag.get("web-player.blend.group-invite.warning")}))({name:w?.display_name||"",username:y,image_url:(0,b.X)(w?.images)?.url||null,hash:""});return w?(0,E.jsxs)(n.Suspense,{fallback:null,children:[(0,E.jsx)(r.$,{children:o.ag.get("web-player.blend.invite.page-title")}),(0,E.jsx)(d.ZU.Provider,{value:j,children:(0,E.jsx)(g.H,{invitation:f,callToActionClicked:i,breakpointEltRef:h})})]}):(0,E.jsx)(v.Z,{})}},93886:(e,t,i)=>{i.r(t),i.d(t,{default:()=>H});var n=i(50959),l=i(35869),a=i(75802),o=i(87350),r=i(58997),s=i(10226),d=i(4116),c=i(11317),u=i(85648),b=i(17676),h=i(61058),x=i(24676),m=i(80626),g=i(6936),v=i(77689),E=i(52187),p=i(41503),j=i(11527);const w=({invitation:e,callToActionClicked:t,breakpointEltRef:i})=>(0,j.jsxs)("div",{className:p.Z.container,"data-testid":E.Eh,ref:i,children:[(0,j.jsx)(g.Z,{size:"xxlarge"}),(0,j.jsx)(v.l,{title:e.title,subtitle:e.subtitle,buttonText:e.button_text,footnote:null,callToActionClicked:t})]});var y=i(41038),f=(i(86277),i(82187)),_=i.n(f),A=i(69736),I=i(87608),N=i(82579),T=i(41736),D=i(60046);const k="HKAYWYmxd5Ie8WSi0a4y",R="i52u_T3b50wraodIaORk",U="xakiNVMlUf6geF67FEgy",L="IRhTesoeIiwswlly0Dvg",M="LNJzE17iskXWmfKAzY4U",C="qzBr7X7cdLUhWdk0r8lL",O=({uri:e,imageUrl:t,name:i})=>(0,j.jsx)("li",{children:(0,j.jsx)(N._,{menu:(0,j.jsx)(T.I,{uri:e}),children:(0,j.jsx)(D.Link,{to:e,children:(0,j.jsxs)("div",{className:L,children:[(0,j.jsx)(I.q,{images:[{url:t,width:null,height:null}],label:i,width:32,userIconSize:"medium",className:M}),(0,j.jsx)(A.x,{variant:"bodySmallBold",className:"standalone-ellipsis-one-line",semanticColor:"textBase",children:i})]})})})}),S=({members:e,headingText:t,className:i})=>(0,j.jsxs)("div",{className:_()(k,i),children:[(0,j.jsx)("div",{children:(0,j.jsx)(A.x,{as:"h4",variant:"marginalBold",semanticColor:"textSubdued",className:R,children:t})}),(0,j.jsx)("ul",{className:U,children:e&&e.map((e=>(0,j.jsx)(O,{imageUrl:e.image_url||"",name:e.name,uri:(0,c.QK)(e.username).toURI()},e.username)))}),(0,j.jsx)("div",{className:C})]}),Z=({invitation:e,callToActionClicked:t,breakpointEltRef:i})=>{const n=e.members||[],l=(0,j.jsx)("div",{className:p.Z.userListContainer,"data-testid":E.ab,children:(0,j.jsx)(S,{className:p.Z.userList,headingText:e.members_title,members:n})});return(0,j.jsxs)("div",{className:p.Z.container,ref:i,children:[(0,j.jsx)(y.$,{children:u.ag.get("blend.join.title")}),(0,j.jsx)(v.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,body:l,buttonText:e.button_text,callToActionClicked:t})]})};var P=i(63978),Y=i(91643),B=i(88341),V=i(24437),G=i(31202),z=i(67848),X=i(19039);const q=({invitationId:e})=>{const t=(0,a.s0)(),i=(0,s.W6)(b.c$b),{data:l,error:o,loading:g}=(0,x.J)(B.oN,[e]),{spec:y,logger:f}=(0,m.fU)(d.L,{}),_=(0,G.i)(y,f),A=function(e,t,i){const{enqueueSnackbar:n}=(0,X.D)(),l=(0,z.Ob)(),o=(0,a.s0)();return async()=>{try{const t=await(0,B.nW)(l,e),i=(0,c.EC)(t?.body.playlist_uri).toURLPath(!0);if(!i)throw new Error("unable to join");o(i,{replace:!0})}catch{n(u.ag.get("error.request-playlist-failure"))}if(t&&i){const e=t.joinButtonFactory().hitCreatePlaylist();i.logInteraction(e)}}}(e,y,f),{ref:I,breakpoint:N}=(0,V.j)();(0,n.useEffect)((()=>{if(l?.body?.page_type===B.V3.ALREADY_JOINED){const e=(0,c.EC)(l?.body.playlist_uri)?.toURLPath(!0);e&&t(e,{replace:!0})}}),[l?.body?.page_type,l?.body?.playlist_uri,t]);const T=null===l||!l.body;if(T||g||o)return(0,j.jsx)(Y.h,{timeoutInMs:1e3,hasError:!!o||!g&&T,errorMessage:u.ag.get("error.generic")});const D=l?.body.members?.length||0,k=i===b.rS8.TWO_USER;switch(l?.body.page_type){case B.V3.DELETED:return(0,j.jsx)(h.ZU.Provider,{value:N,children:(0,j.jsxs)("div",{className:p.Z.container,ref:I,"data-testid":E.e0,children:[(0,j.jsx)(r.F,{size:"xxlarge"}),(0,j.jsx)(v.l,{title:l.body.title,subtitle:l.body.subtitle,buttonText:l.body.button_text,footnote:l.body.footnote,callToActionClicked:_})]})});case B.V3.ALREADY_JOINED:return(0,j.jsx)(Y.h,{hasError:!1,errorMessage:u.ag.get("error.request-playlist-failure")});case B.V3.READY_TO_JOIN_EMPTY_BLEND:return(0,j.jsx)(h.ZU.Provider,{value:N,children:(0,j.jsx)(P.H,{invitation:l.body,breakpointEltRef:I,callToActionClicked:A})});case B.V3.READY_TO_JOIN_ALREADY_CREATED_BLEND:return k&&D>=2?(0,j.jsx)(h.ZU.Provider,{value:N,children:(0,j.jsx)(w,{invitation:{...l.body,title:u.ag.get("blend.link-invialid.header"),subtitle:u.ag.get("blend.link-invalid.subtitle"),button_text:u.ag.get("blend.invite.button-title")},callToActionClicked:_,breakpointEltRef:I})}):(0,j.jsx)(h.ZU.Provider,{value:N,children:(0,j.jsx)(Z,{invitation:l.body,callToActionClicked:A,breakpointEltRef:I})});case B.V3.MAX_MEMBERS:return(0,j.jsx)(h.ZU.Provider,{value:N,children:(0,j.jsx)(w,{invitation:l.body,callToActionClicked:_,breakpointEltRef:I})});case B.V3.PENDING_INVITATION:return(0,j.jsx)(h.ZU.Provider,{value:N,children:(0,j.jsx)(P.H,{invitation:l.body,callToActionClicked:_,breakpointEltRef:I})});default:return(0,j.jsx)(Y.h,{timeoutInMs:1e3,hasError:!0,errorMessage:u.ag.get("error.generic")})}};var J=i(48806);const W=({invitationId:e})=>{const{user:t}=(0,l.v9)(o.Gg);return t?(0,j.jsx)(n.Suspense,{fallback:null,children:(0,j.jsx)(q,{invitationId:e})}):(0,j.jsx)(J.Z,{})},H=(0,n.memo)((()=>{const{invitationId:e=""}=(0,a.UO)();return(0,j.jsx)(W,{invitationId:e})}))},41503:(e,t,i)=>{i.d(t,{Z:()=>n});const n={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"yMoj4jXSudxZ6BkKxV2E",TwoUsers:"IDgUCqAbkRah6OFywv1q",subtitle:"qmKxO5qV4XmVYfpFpaDA",facepile:"nWMdWl40O8K7HQT8Tagc",title:"csRAeNipsu1camQTMiIU",button:"nxFBywAeAI8Zk2fav3Yj",userList:"lxPLQIPb1VSV3VL18Ke3",userListContainer:"BzMKhmywgyIt6IUjcTGW",note:"DSdKNusLgsMX_iicYCU2"}}}]);
>>>>>>> origin/master
//# sourceMappingURL=xpui-routes-blend.js.map