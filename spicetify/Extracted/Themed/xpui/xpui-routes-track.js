<<<<<<< HEAD
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3890],{4741:(e,n,a)=>{a.d(n,{J:()=>o});var t=a(67281),r=a(42344),i=new t.l("getTrack","query","ae85b52abb74d20a4c331d4143d4772c95f34757bfa8c625474b912b9055b5c0",null),o=function(e,n){return(0,r.I)(i,e,n)}},77946:(e,n,a)=>{a.r(n),a.d(n,{default:()=>g});a(60989),a(63763),a(45191),a(62980),a(11034),a(36389),a(12771),a(77020),a(45935),a(60726),a(82765),a(13312);var t=a(30758),r=a(41978),i=a(33165),o=a(96839),l=a(8539),u=a(57528),c=a(4741),d=a(68688),f=a(42344),s=a(53465),k=a(76875),v=a(86070),b=t.memo((function(){var e,n=(0,i.Zp)(),a=(0,i.zy)(),b=(0,t.useContext)(k.w),g=(0,s.K)(),p=(0,i.g)().trackId,h=void 0===p?"":p,m=(0,r.d4)(d.Ht).isAnonymous,y=new URLSearchParams(a.search).get("context")||"",U=(0,o.tR)(h).toURI(),w=(0,c.J)({uri:U},{gcTime:30*f.i}),I=(0,t.useCallback)((function(e,a){var t,r=g.getState(),i=null===(t=(0,o.o_)(a))||void 0===t?void 0:t.toURLPath(!0),l="".concat(i,"?highlight=").concat(U);m?n(l):(r&&!r.isPaused||e>-1&&g.play({uri:a},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:e}}),n(l,{replace:!0}))}),[n,m,g,U]),T=(0,t.useCallback)((function(){var e;if(!w.loading&&null!==(e=w.data)&&void 0!==e&&e.trackUnion&&"Track"===w.data.trackUnion.__typename){var n,a,t,r=(null!==(n=null===(a=w.data.trackUnion.albumOfTrack)||void 0===a||null===(a=a.tracks)||void 0===a?void 0:a.items)&&void 0!==n?n:[]).findIndex((function(e){return e.track.uri===U}));if(r>=0)I(r,(null===(t=w.data.trackUnion.albumOfTrack)||void 0===t?void 0:t.uri)||"")}}),[I,w,U]);return(0,t.useEffect)((function(){var e=(0,o.tb)(y);y&&e?b.getContents(y).then((function(e){var n=e.items.findIndex((function(e){return(null==e?void 0:e.uri)===U}));n<0?T():I(n,y)})):T()}),[y,T,I,b,U]),w.loading||w.error||"Track"!==(null===(e=w.data)||void 0===e||null===(e=e.trackUnion)||void 0===e?void 0:e.__typename)?(0,v.jsx)(u.A,{hasError:!w.loading,errorMessage:l.Ru.get("track-page.error")}):null}));const g=b}}]);
=======
"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[730],{84041:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(50959),r=a(35869),i=a(75802),c=a(11317),s=a(85648),o=a(91643),l=a(44059),d=a(87350),u=a(20069),k=a(8570),f=a(1740),g=a(11527);const h=n.memo((function(){const e=(0,i.s0)(),t=(0,i.TH)(),a=(0,n.useContext)(f.ZF),h=(0,k.g)(),{trackId:p=""}=(0,i.UO)(),{isAnonymous:m}=(0,r.v9)(d.Gg),b=new URLSearchParams(t.search).get("context")||"",U=(0,c.tn)(p).toURI(),y=(0,l.QN)({uri:U},{gcTime:30*u.y}),C=(0,n.useCallback)(((t,a)=>{const n=h.getState(),r=(0,c.EC)(a)?.toURLPath(!0),i=`${r}?highlight=${U}`;m?e(i):(n&&!n.isPaused||t>-1&&h.play({uri:a},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:t}}),e(i,{replace:!0}))}),[e,m,h,U]),T=(0,n.useCallback)((()=>{if(!y.loading&&y.data?.trackUnion&&"Track"===y.data.trackUnion.__typename){const e=(y.data.trackUnion.albumOfTrack?.tracks?.items??[]).findIndex((e=>e.track.uri===U));e>=0&&C(e,y.data.trackUnion.albumOfTrack?.uri||"")}}),[C,y,U]);return(0,n.useEffect)((()=>{const e=(0,c.nK)(b);b&&e?a.getContents(b).then((e=>{const t=e.items.findIndex((e=>e?.uri===U));t<0?T():C(t,b)})):T()}),[b,T,C,a,U]),y.loading||y.error||"Track"!==y.data?.trackUnion?.__typename?(0,g.jsx)(o.h,{hasError:!y.loading,errorMessage:s.ag.get("track-page.error")}):null})),p=h}}]);
>>>>>>> origin/master
//# sourceMappingURL=xpui-routes-track.js.map